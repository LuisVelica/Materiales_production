"use strict";(self.webpackChunkadmin_main=self.webpackChunkadmin_main||[]).push([[222],{43022:function(e,a,i){i.r(a),i.d(a,{DashboardRoutes:function(){return U},default:function(){return E}});var r=i(16871),o=i(72791),n=i(61424),t=i(55705),s=i(76006),l=(i(17408),i(21830)),c=i.n(l),d=i(41848),u=i(38267),m=i(18515),h=i(80184),p=function(){var e=(0,t.u6)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"formFile",className:"form-label",children:"Imagen"}),(0,h.jsx)("input",{className:"form-control",id:"fileSelector",type:"file",name:"file",accept:"video/*",onChange:function(a){var i=a.target.files[0];if(i){c().fire({title:"Cargando..",text:"Por favor no cierre hasta que termine de cargar...",allowOutsideClick:!1,onBeforeOpen:function(){c().showLoading()}}),m.h9&&console.log(i);(0,u.iz)(i).then((function(a){e.setFieldValue("url",a),c().close(),c().fire({title:":D",allowOutsideClick:!1,text:"Su video fue guardado correctamente",html:'<iframe width="560" height="315" src="'+a+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',imageWidth:400,imageHeight:200,imageAlt:"Custom image"})}),(function(e){m.h9&&console.log(e)}))}}})]}),(0,h.jsx)(t.gN,{name:"url",id:"url",type:"hidden"}),(0,h.jsx)(t.Bc,{name:"url",component:"span"})]})},x=(0,o.memo)(p),f=i(26613),j=i(59517),g=i(81434);function w(e){var a=e.currentNosotros,i=(0,t.u6)();return(0,o.useEffect)((function(){!function(e){i.setFieldValue("url",e.url),i.setFieldValue("name",e.name),i.setFieldValue("descripcion",e.descripcion),i.setFieldValue("estado",e.estado),i.setFieldValue("municipio",e.municipio),i.setFieldValue("phone",e.phone),i.setFieldValue("domicilio",e.domicilio),i.setFieldValue("face",e.face),i.setFieldValue("whatsapp",e.whatsapp),i.setFieldValue("correo",e.correo)}(a)}),[a]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g.h4,{title:"Nosotros",main:!0}),(0,h.jsxs)("div",{className:"row rows-cols-1 row-cols-md-3 g-3 animate__animated animate__fadeIn notes__image",children:[(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)(d.rZ,{label:"Nombre de empresa",name:"name",id:"name",type:"text",placeholder:"Nombre de empresa"}),(0,h.jsx)(x,{}),(0,h.jsx)(d.rZ,{label:"Phone",name:"phone",id:"phone",type:"text",placeholder:"Phone"}),(0,h.jsx)(d.rZ,{label:"whatsapp",name:"whatsapp",id:"whatsapp",type:"text",placeholder:"whatsapp"})]})," ",""!=a.url?(0,h.jsx)(f.Z,{material:a,children:function(){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(j.Z,{className:"custom-image",style:{boxShadow:"10px 10px 10px rgba(0,0,0,0.2)"}})})}},a.id):(0,h.jsx)(h.Fragment,{})," "]}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)(d.rZ,{label:"Descripcion",name:"descripcion",id:"descripcion",type:"text",placeholder:"Descripcion"})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)(d.rZ,{label:"Domicilio",name:"domicilio",id:"domicilio",type:"text",placeholder:"Domicilio"})}),(0,h.jsx)("div",{className:"col-md-6",children:(0,h.jsx)(d.rZ,{label:"Municipio",name:"municipio",id:"municipio",type:"text",placeholder:"Municipio"})}),(0,h.jsx)("div",{className:"col-md-6",children:(0,h.jsx)(d.rZ,{label:"Estado",name:"estado",id:"estado",type:"text",placeholder:"Estado"})}),(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsx)(d.rZ,{label:"face",name:"face",id:"face",type:"text",placeholder:"face"})}),(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsx)(d.rZ,{label:"correo",name:"correo",id:"correo",type:"text",placeholder:"correo"})})]})}var b=(0,o.memo)(w),v=i(20948),N=function(){var e=(0,v.Z)(),a=e.currentNosotros,i=e.setCurrentNosotros;return(0,h.jsx)("div",{className:"submit-form",children:a?(0,h.jsx)("div",{children:(0,h.jsx)(t.J9,{initialValues:{name:"",domicilio:"",url:"",estado:"",municipio:"",phone:"",descripcion:"",face:"",whatsapp:"",correo:""},onSubmit:function(e){var a;m.h9&&console.log(e),a=e,m.h9&&console.log(a),n.Z.update(a).then((function(e){i({name:e.data.name||"",descripcion:e.data.descripcion||"",url:e.data.url||"",domicilio:e.data.domicilio||"",estado:e.data.estado||"",municipio:e.data.municipio||"",phone:e.data.phone||"",whatsapp:e.data.whatsapp||"",face:e.data.face||"",correo:e.data.correo||""}),c().fire({title:"Actualizado",text:"Datos actualizados con \xe9xito",icon:"success",confirmButtonText:"OK"})})).catch((function(e){alert("Ocurrio un error actualizando"),m.h9&&console.log(e)}))},validationSchema:s.Ry({name:s.Z_().required("Requerido"),url:s.Z_().required("Requerido"),domicilio:s.Z_().required("Requerido"),phone:s.Z_().required("Requerido"),municipio:s.Z_().required("Requerido"),estado:s.Z_().required("Requerido"),descripcion:s.Z_().required("Requerido"),whatsapp:s.Z_().required("Requerido"),face:s.Z_().required("Requerido"),correo:s.Z_().email("El correo no tiene un formato v\xe1lido").required("Requerido")}),children:function(e){return(0,h.jsxs)(t.l0,{children:[(0,h.jsx)("div",{className:"row g-3",children:(0,h.jsx)(b,{currentNosotros:a})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("button",{type:"submit",className:"float-end btn btn-primary",children:"Actualizar"})})]})}})}):(0,h.jsx)("div",{children:(0,h.jsx)("h4",{children:"Por favor selecciona un registro"})})})},Z=(0,o.memo)(N),y=i(29439),q=i(50013);function _(e){var a=e.currentUser,i=(0,t.u6)();return(0,o.useEffect)((function(){!function(e){i.setFieldValue("id",e.id),i.setFieldValue("name",e.name),i.setFieldValue("username",e.username),i.setFieldValue("password",e.password)}(a)}),[a]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"form-group mb-3 ",children:(0,h.jsx)(d.rZ,{label:"Nombre",name:"name",id:"name",type:"text",placeholder:"Nombre"})}),(0,h.jsx)("div",{className:"form-group mb-3",children:(0,h.jsx)(d.rZ,{label:"Usuario",name:"username",id:"username",type:"text",placeholder:"Usuario"})}),(0,h.jsx)("div",{className:"form-group mb-3",children:(0,h.jsx)(d.rZ,{label:"Password",name:"password",id:"password",type:"password",placeholder:"Password"})})]})}var F=function(e){var a=e.id,i=(0,o.useState)({id:null,name:"",username:"",password:""}),r=(0,y.Z)(i,2),n=r[0],l=r[1];(0,o.useEffect)((function(){!function(e){q.Z.getById(e).then((function(e){l({id:e.data.id||null,name:e.data.name||"",username:e.data.username||"",password:e.data.password||""})})).catch((function(e){alert("Ocurrio un error"),m.h9&&console.log(e)}))}(a)}),[a]);return(0,h.jsx)("div",{className:"submit-form",children:n?(0,h.jsx)("div",{children:(0,h.jsx)(t.J9,{initialValues:{id:null,name:"",username:"",password:""},onSubmit:function(e){var a;m.h9&&console.log(e),a=e,q.Z.update(n.id,a).then((function(e){c().fire({title:"Actualizado",text:"El Usuario fue actualizado con \xe9xito",icon:"success",confirmButtonText:"OK"}),m.h9&&console.log(e.data)})).catch((function(e){alert("Ocurrio un error actualizando el Usuario"),m.h9&&console.log(e)}))},validationSchema:s.Ry({username:s.Z_().required("Requerido"),name:s.Z_().required("Requerido"),password:s.Z_().required("Requerido")}),children:function(e){return(0,h.jsxs)(t.l0,{children:[(0,h.jsx)("div",{className:"modal-body",children:(0,h.jsx)(_,{currentUser:n})}),(0,h.jsx)("div",{className:"modal-footer",children:(0,h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Actualizar"})})]})}})}):(0,h.jsx)("div",{children:(0,h.jsx)("h4",{children:"Por favor selecciona un registro"})})})},C=(0,o.memo)(F),V=i(57657),A=i(27864),R=i(72426),z=i.n(R),S=function(){var e=[{field:"id",headerName:"#",width:70},{field:"name",headerName:"Nombre",width:300},{field:"username",headerName:"Usuario",width:300},{field:"created_at",headerName:"Fecha de creacion",width:200,renderCell:function(e){return(0,h.jsxs)("p",{children:[" ",z()("".concat(e.row.created_at)).subtract(10,"days").calendar()," "]})}},{field:"updated_at",headerName:"Ultima actualizacion",width:200,renderCell:function(e){return(0,h.jsxs)("p",{children:[" ",z()("".concat(e.row.updated_at)).subtract(10,"days").calendar()," "]})}},{field:"Acciones",headerName:"Acciones",width:130,renderCell:function(e){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("i",{style:{color:"green"},className:"fa-solid fa-pen-to-square",onClick:function(){return j(e.row.id)}}),(0,h.jsx)("i",{className:"fa-solid fa-trash-can",style:{color:"red"},onClick:function(){return w(e.row.id)}})]})}}],a=(0,v.Z)(),i=a.user,r=a.setUser,n=(0,o.useState)(null),t=(0,y.Z)(n,2),s=t[0],l=t[1],d=(0,o.useState)(!1),u=(0,y.Z)(d,2),p=u[0],x=u[1],f=function(){q.Z.getAll().then((function(e){r(e.data),m.h9&&console.log(e.data)})).catch((function(e){alert("Ocurrio un error"),m.h9&&console.log(e)}))},j=function(e){q.Z.getById(e).then((function(e){l(e.data)})).catch((function(e){alert("Ocurrio un error"),m.h9&&console.log(e)})),x(!0)},w=function(e){c().fire({title:"\xbf Est\xe1s seguro ?",text:"No podr\xe1s revertir los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xed, eliminarlo"}).then((function(a){a.isConfirmed&&(c().fire("\xa1Eliminado!","El usuario ha sido eliminado correctamente.","success"),q.Z.remove(e).then((function(e){f()})).catch((function(e){alert("Ocurrio un error al tratar de eliminar el Usuario"),m.h9&&console.log(e)})))}))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g.h4,{title:"Usuarios",main:!0}),(0,h.jsxs)(V.Z,{size:"lg",show:p,onHide:function(){return f(),void x(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[(0,h.jsx)(V.Z.Header,{closeButton:!0,children:(0,h.jsx)(V.Z.Title,{id:"example-modal-sizes-title-lg",children:"Editar Usuario"})}),(0,h.jsx)(V.Z.Body,{children:(0,h.jsx)(C,{id:s?s.id:0})})]}),(0,h.jsx)("div",{style:{height:500,width:"100%"},children:(0,h.jsx)(A._,{rows:i,columns:e,pageSize:10,rowsPerPageOptions:[5]})})]})},B=(0,o.memo)(S),O=i(93007),U=function(){return(0,h.jsx)(g.Ar,{children:(0,h.jsx)("div",{className:"container py-5",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)(r.Z5,{children:[(0,h.jsx)(r.AW,{path:"nosotros",element:(0,h.jsx)(Z,{})}),(0,h.jsx)(r.AW,{path:"registrar",element:(0,h.jsx)(O.aN,{})}),(0,h.jsx)(r.AW,{path:"anuncios",element:(0,h.jsx)(O.ny,{})}),(0,h.jsx)(r.AW,{path:"bolsa",element:(0,h.jsx)(O.kS,{})}),(0,h.jsx)(r.AW,{path:"usuarios",element:(0,h.jsx)(B,{})}),(0,h.jsx)(r.AW,{path:"videos",element:(0,h.jsx)(O.SV,{})}),(0,h.jsx)(r.AW,{path:"materiales",element:(0,h.jsx)(O.Px,{})}),(0,h.jsx)(r.AW,{path:"categorias",element:(0,h.jsx)(O.lQ,{})})]})})})})},E=U}}]);
//# sourceMappingURL=LazyLayout_admin.04ce0e9b.chunk.js.map