import{r as m,a as l,F as f,j as e,aj as B,ak as w,R as k,c as h}from"./index.7f0cc521.js";import{d as y,e as A,E as P,f as p,s as z,g as q,h as n,M,a as O,u as C,i as U,j as V,k as c,l as E,m as x,D,n as F,L as _,R as I,B as L,o as $,V as T,C as j,p as H}from"./Nosotros.68c801df.js";function K(){const r=y();return l(f,{children:[l("div",{className:"mb-3",children:[e("label",{htmlFor:"formFile",className:"form-label",children:"Imagen"}),e("input",{className:"form-control",id:"formFile",type:"file",name:"file",accept:"video/*",onChange:d=>{const a=d.target.files[0];a&&(p.fire({title:"Cargando..",text:"Por favor no cierre hasta que termine de cargar...",allowOutsideClick:!1,onBeforeOpen:()=>{p.showLoading()}}),console.log(a),z(a).then(o=>{r.setFieldValue("url",o),p.close(),p.fire({title:":D",allowOutsideClick:!1,text:"Su video fue guardado correctamente",html:`<iframe width="560" height="315" src="${o}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,imageWidth:400,imageHeight:200,imageAlt:"Custom image"})},o=>{console.log(o)}))}})]}),e(A,{name:"url",id:"url",type:"hidden"}),e(P,{name:"url",component:"span"})]})}var G=m.exports.memo(K);function W({currentNosotros:r}){const i=y(),d=a=>{i.setFieldValue("url",a.url),i.setFieldValue("name",a.name),i.setFieldValue("descripcion",a.descripcion),i.setFieldValue("estado",a.estado),i.setFieldValue("municipio",a.municipio),i.setFieldValue("phone",a.phone),i.setFieldValue("domicilio",a.domicilio),i.setFieldValue("face",a.face),i.setFieldValue("whatsapp",a.whatsapp),i.setFieldValue("correo",a.correo)};return m.exports.useEffect(()=>{d(r)},[r]),l(f,{children:[e(q,{title:"Nosotros",main:!0}),l("div",{className:"row rows-cols-1 row-cols-md-3 g-3 animate__animated animate__fadeIn notes__image",children:[l("div",{className:"col-md-6",children:[e(n,{label:"Nombre de empresa",name:"name",id:"name",type:"text",placeholder:"Nombre de empresa"}),e(G,{}),e(n,{label:"Phone",name:"phone",id:"phone",type:"text",placeholder:"Phone"}),e(n,{label:"whatsapp",name:"whatsapp",id:"whatsapp",type:"text",placeholder:"whatsapp"})]})," ",r.url!=""?e(M,{material:r,children:()=>e(O,{className:"custom-image",style:{boxShadow:"10px 10px 10px rgba(0,0,0,0.2)"}})},r.id):e(f,{children:"NoImage"})," "]}),e("div",{className:"col-12",children:e(n,{label:"Descripcion",name:"descripcion",id:"descripcion",type:"text",placeholder:"Descripcion"})}),e("div",{className:"col-12",children:e(n,{label:"Domicilio",name:"domicilio",id:"domicilio",type:"text",placeholder:"Domicilio"})}),e("div",{className:"col-md-6",children:e(n,{label:"Municipio",name:"municipio",id:"municipio",type:"text",placeholder:"Municipio"})}),e("div",{className:"col-md-6",children:e(n,{label:"Estado",name:"estado",id:"estado",type:"text",placeholder:"Estado"})}),e("div",{className:"col-md-12",children:e(n,{label:"face",name:"face",id:"face",type:"text",placeholder:"face"})}),e("div",{className:"col-md-12",children:e(n,{label:"correo",name:"correo",id:"correo",type:"text",placeholder:"correo"})})]})}var J=m.exports.memo(W);function Q(){const{currentNosotros:r,setCurrentNosotros:i}=C(),d=a=>{console.log(a),B.update(a).then(o=>{i({name:o.data.name||"",descripcion:o.data.descripcion||"",url:o.data.url||"",domicilio:o.data.domicilio||"",estado:o.data.estado||"",municipio:o.data.municipio||"",phone:o.data.phone||"",whatsapp:o.data.whatsapp||"",face:o.data.face||"",correo:o.data.correo||""}),p.fire({title:"Actualizado",text:"Datos actualizados con \xE9xito",icon:"success",confirmButtonText:"OK"})}).catch(o=>{alert("Ocurrio un error actualizando"),console.log(o)})};return e("div",{className:"submit-form",children:r?e("div",{children:e(U,{initialValues:{name:"",domicilio:"",url:"",estado:"",municipio:"",phone:"",descripcion:"",face:"",whatsapp:"",correo:""},onSubmit:a=>{console.log(a),d(a)},validationSchema:V({name:c().required("Requerido"),url:c().required("Requerido"),domicilio:c().required("Requerido"),phone:c().required("Requerido"),municipio:c().required("Requerido"),estado:c().required("Requerido"),descripcion:c().required("Requerido"),whatsapp:c().required("Requerido"),face:c().required("Requerido"),correo:c().email("El correo no tiene un formato v\xE1lido").required("Requerido")}),children:a=>l(E,{children:[e("div",{className:"row g-3",children:e(J,{currentNosotros:r})}),e("div",{className:"col-12",children:e("button",{type:"submit",className:"float-end btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var X=m.exports.memo(Q);function Y({currentUser:r}){const i=y(),d=a=>{i.setFieldValue("id",a.id),i.setFieldValue("name",a.name),i.setFieldValue("username",a.username),i.setFieldValue("password",a.password)};return m.exports.useEffect(()=>{d(r)},[r]),l(f,{children:[e("div",{className:"form-group mb-3 ",children:e(n,{label:"Nombre",name:"name",id:"name",type:"text",placeholder:"Nombre"})}),e("div",{className:"form-group mb-3",children:e(n,{label:"Usuario",name:"username",id:"username",type:"text",placeholder:"Usuario"})}),e("div",{className:"form-group mb-3",children:e(n,{label:"Password",name:"password",id:"password",type:"password",placeholder:"Password"})})]})}function Z({id:r}){const i={id:null,name:"",username:"",password:""},[d,a]=m.exports.useState(i),o=u=>{w.getById(u).then(s=>{a({id:s.data.id||null,name:s.data.name||"",username:s.data.username||"",password:s.data.password||""})}).catch(s=>{alert("Ocurrio un error"),console.log(s)})};m.exports.useEffect(()=>{o(r)},[r]);const b=u=>{w.update(d.id,u).then(s=>{p.fire({title:"Actualizado",text:"El Usuario fue actualizado con \xE9xito",icon:"success",confirmButtonText:"OK"}),console.log(s.data)}).catch(s=>{alert("Ocurrio un error actualizando el Usuario"),console.log(s)})};return e("div",{className:"submit-form",children:d?e("div",{children:e(U,{initialValues:{id:null,name:"",username:"",password:""},onSubmit:u=>{console.log(u),b(u)},validationSchema:V({username:c().required("Requerido"),name:c().required("Requerido"),password:c().required("Requerido")}),children:u=>l(E,{children:[e("div",{className:"modal-body",children:e(Y,{currentUser:d})}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var ee=m.exports.memo(Z);function ae(){const r=[{field:"id",headerName:"#",width:70},{field:"name",headerName:"Nombre",width:300},{field:"username",headerName:"Usuario",width:300},{field:"created_at",headerName:"Fecha de creacion",width:200,renderCell:t=>l("p",{children:[" ",F(`${t.row.created_at}`).subtract(10,"days").calendar()," "]})},{field:"updated_at",headerName:"Ultima actualizacion",width:200,renderCell:t=>l("p",{children:[" ",F(`${t.row.updated_at}`).subtract(10,"days").calendar()," "]})},{field:"Acciones",headerName:"Acciones",width:130,renderCell:t=>l(f,{children:[e("i",{style:{color:"green"},className:"fa-solid fa-pen-to-square",onClick:()=>v(t.row.id),onKeyPress:()=>v(t.row.id),role:"button",tabIndex:0}),e("i",{className:"fa-solid fa-trash-can",style:{color:"red"},onClick:()=>S(t.row.id),onKeyPress:()=>v(t.row.id),role:"button",tabIndex:0})]})}],{user:i,setUser:d}=C(),[a,o]=m.exports.useState(null),[b,u]=m.exports.useState(!1),s=()=>{w.getAll().then(t=>{d(t.data),console.log(t.data)}).catch(t=>{alert("Ocurrio un error"),console.log(t)})},v=t=>{w.getById(t).then(g=>{o(g.data)}).catch(g=>{alert("Ocurrio un error"),console.log(g)}),u(!0)},R=()=>{s(),u(!1)},S=t=>{p.fire({title:"\xBF Est\xE1s seguro ?",text:"No podr\xE1s revertir los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xED, eliminarlo"}).then(g=>{g.isConfirmed&&(p.fire("\xA1Eliminado!","El usuario ha sido eliminado correctamente.","success"),w.remove(t).then(N=>{s()}).catch(N=>{alert("Ocurrio un error al tratar de eliminar el Usuario"),console.log(N)}))})};return l(f,{children:[e(q,{title:"Usuarios",main:!0}),l(x,{size:"lg",show:b,onHide:()=>R(),"aria-labelledby":"example-modal-sizes-title-lg",children:[e(x.Header,{closeButton:!0,children:e(x.Title,{id:"example-modal-sizes-title-lg",children:"Editar Usuario"})}),e(x.Body,{children:e(ee,{id:a?a.id:0})})]}),e("div",{style:{height:500,width:"100%"},children:e(D,{rows:i,columns:r,pageSize:10,rowsPerPageOptions:[5]})})]})}var ie=m.exports.memo(ae);function te(){return e(_,{children:e("div",{className:"container py-5",children:e("div",{className:"row",children:l(k,{children:[e(h,{path:"nosotros",element:e(X,{})}),e(h,{path:"registrar",element:e(I,{})}),e(h,{path:"anuncios",element:e(L,{})}),e(h,{path:"bolsa",element:e($,{})}),e(h,{path:"usuarios",element:e(ie,{})}),e(h,{path:"videos",element:e(T,{})}),e(h,{path:"materiales",element:e(j,{})}),e(h,{path:"categorias",element:e(H,{})})]})})})})}export{te as DashboardRoutes,te as default};
