import{Q as j,R as G,U as H,V as K,W,X as J,Y as q,Z as g,_ as Q,$ as E,a0 as P,a1 as k,a2 as D,a3 as X,G as Y,a4 as Z,a5 as ee,a6 as T,a7 as m,M as ae,a as re,a8 as $,a9 as A,aa as u,ab as L,ac as ie,ad as C,ae as te,af as R,H as oe,ag as se,ah as le,ai as ne,aj as de,ak as ce,al as ue,am as me,an as pe}from"./Nosotros.c53d77e4.js";import{b as e,ar as he,r as o,aI as fe,_ as S,O as ge,G as be,j as l,F as x,a as V,aa as B,ah as ve,aD as N,ae as xe,aJ as ye,i as we,k as h}from"./index.5e100ff2.js";const Fe=G({key:"css",prepend:!0});function Ce(i){const{injectFirst:a,children:t}=i;return a?e(j,{value:Fe,children:t}):t}function Ne(i,a){return typeof a=="function"?a(i):S({},i,a)}function Se(i){const{children:a,theme:t}=i,r=he(),d=o.exports.useMemo(()=>{const s=r===null?t:Ne(r,t);return s!=null&&(s[H]=r!==null),s},[t,r]);return e(fe.Provider,{value:d,children:a})}function qe(i){var a=ge();return e(K.Provider,{value:be(a)==="object"?a:{},children:i.children})}function Ue(i){var a=i.children,t=i.theme;return e(Se,{theme:t,children:e(qe,{children:a})})}var Ee=function(a,t){return S({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:a.palette.mode})},Pe=function(a){return S({color:(a.vars||a).palette.text.primary},a.typography.body1,{backgroundColor:(a.vars||a).palette.background.default,"@media print":{backgroundColor:(a.vars||a).palette.common.white}})},ke=function(a){var t,r,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={html:Ee(a,d),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:a.typography.fontWeightBold},body:S({margin:0},Pe(a),{"&::backdrop":{backgroundColor:(a.vars||a).palette.background.default}})},n=(t=a.components)==null||(r=t.MuiCssBaseline)==null?void 0:r.styleOverrides;return n&&(s=[s,n]),s};function De(i){var a=W({props:i,name:"MuiCssBaseline"}),t=a.children,r=a.enableColorScheme,d=r===void 0?!1:r;return l(o.exports.Fragment,{children:[e(J,{styles:function(n){return ke(n,d)}}),t]})}function Re(){const i=q(),{file:a,isLoading:t,data:r}=g("file");o.exports.useEffect(()=>{r!=null&&(i.setFieldValue("url",r),n(!1),w(!0))},[r]);const d=o.exports.useCallback(f=>{var p;if(((p=f.target.files)==null?void 0:p.length)!==void 0){const F=f.target.files[0];n(!0);const v=new FormData;v.append("video",F),a("subirvideos",v)}},[a]),[s,n]=o.exports.useState(!1),[y,w]=o.exports.useState(!1);return l(x,{children:[t&&e(Q,{}),l(E,{open:y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(P,{id:"alert-dialog-title",children:"Su video fue guardado correctamente"}),e(k,{children:e(D,{id:"alert-dialog-description",children:e("iframe",{width:"560",height:"315",src:r,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),e(X,{children:e(Y,{color:"error",variant:"contained",onClick:()=>{w(!1)},children:"OK"})})]}),l(E,{open:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(P,{id:"alert-dialog-title",children:"Cargando.."}),e(k,{children:e(D,{id:"alert-dialog-description",children:"Por favor no cierre hasta que termine de cargar..."})})]}),l("div",{className:"mb-3",children:[e("label",{htmlFor:"formFile",className:"form-label",children:"Imagen"}),e("input",{className:"form-control",id:"formFile",type:"file",name:"file",accept:"image/*,video/*",onChange:d})]}),e(Z,{name:"url",id:"url",type:"hidden"}),e(ee,{name:"url",component:"span"})]})}var Te=o.exports.memo(Re);function $e({currentNosotros:i}){const a=q(),t=r=>{a.setFieldValue("id",r.id),a.setFieldValue("url",r.url),a.setFieldValue("name",r.name),a.setFieldValue("descripcion",r.descripcion),a.setFieldValue("estado",r.estado),a.setFieldValue("municipio",r.municipio),a.setFieldValue("phone",r.phone),a.setFieldValue("domicilio",r.domicilio),a.setFieldValue("face",r.face),a.setFieldValue("whatsapp",r.whatsapp),a.setFieldValue("correo",r.correo)};return o.exports.useEffect(()=>{t(i)},[i]),l(x,{children:[e(T,{title:"Nosotros",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})}),l("div",{className:"row rows-cols-1 row-cols-md-3 g-3 animate__animated animate__fadeIn notes__image",children:[l("div",{className:"col-md-6",children:[e(m,{label:"Nombre de empresa",name:"name",id:"name",type:"text",placeholder:"Nombre de empresa"}),e(Te,{}),e(m,{label:"Phone",name:"phone",id:"phone",type:"text",placeholder:"Phone"}),e(m,{label:"whatsapp",name:"whatsapp",id:"whatsapp",type:"text",placeholder:"whatsapp"})]})," ",i.url!=""?e(ae,{material:i,children:()=>e(re,{className:"custom-image",style:{boxShadow:"10px 10px 10px rgba(0,0,0,0.2)"}})},i.id):e(x,{children:"NoImage"})," "]}),e("div",{className:"col-12",children:e(m,{label:"Descripcion",name:"descripcion",id:"descripcion",type:"text",placeholder:"Descripcion"})}),e("div",{className:"col-12",children:e(m,{label:"Domicilio",name:"domicilio",id:"domicilio",type:"text",placeholder:"Domicilio"})}),e("div",{className:"col-md-6",children:e(m,{label:"Municipio",name:"municipio",id:"municipio",type:"text",placeholder:"Municipio"})}),e("div",{className:"col-md-6",children:e(m,{label:"Estado",name:"estado",id:"estado",type:"text",placeholder:"Estado"})}),e("div",{className:"col-md-12",children:e(m,{label:"face",name:"face",id:"face",type:"text",placeholder:"face"})}),e("div",{className:"col-md-12",children:e(m,{label:"correo",name:"correo",id:"correo",type:"text",placeholder:"correo"})})]})}var Ae=o.exports.memo($e);function Le(){const i=V(n=>n.reducer.auth.nosotros||[]),{put:a,isLoading:t,data:r}=g("nosotrosUpdate"),d=B();o.exports.useEffect(()=>{r!=null&&(d(ve({data:r})),N.fire({title:"Actualizado",text:"Datos actualizados con \xE9xito",icon:"success",confirmButtonText:"OK"}))},[d,r]);const s=n=>{a("empresa",n)};return e("div",{className:"submit-form",children:i?e("div",{children:e($,{initialValues:{id:0,name:"",domicilio:"",url:"",estado:"",municipio:"",phone:"",descripcion:"",face:"",whatsapp:"",correo:""},onSubmit:n=>{s(n)},validationSchema:A({name:u().required("Requerido"),url:u().required("Requerido"),domicilio:u().required("Requerido"),phone:u().required("Requerido"),municipio:u().required("Requerido"),estado:u().required("Requerido"),descripcion:u().required("Requerido"),whatsapp:u().required("Requerido"),face:u().required("Requerido"),correo:u().email("El correo no tiene un formato v\xE1lido").required("Requerido")}),children:n=>l(L,{children:[e("div",{className:"row g-3",children:e(Ae,{currentNosotros:i})}),e("div",{className:"col-12",children:e("button",{type:"submit",className:"float-end btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var Ve=o.exports.memo(Le);function Be({currentUser:i}){const a=q(),t=r=>{a.setFieldValue("id",r.id),a.setFieldValue("name",r.name),a.setFieldValue("username",r.username),a.setFieldValue("password",r.password)};return o.exports.useEffect(()=>{t(i)},[i]),l(x,{children:[e("div",{className:"form-group mb-3 ",children:e(m,{label:"Nombre",name:"name",id:"name",type:"text",placeholder:"Nombre"})}),e("div",{className:"form-group mb-3",children:e(m,{label:"Usuario",name:"username",id:"username",type:"text",placeholder:"Usuario"})}),e("div",{className:"form-group mb-3",children:e(m,{label:"Password",name:"password",id:"password",type:"password",placeholder:"Password"})})]})}var _e=o.exports.memo(Be);_.propTypes={id:ie.exports.number.isRequired};function _({id:i}){const a={id:0,name:"",username:"",password:""},[t,r]=o.exports.useState(a),{get:d,data:s}=g("user");o.exports.useEffect(()=>{s!=null&&r({id:s.id||0,name:s.name||"",username:s.username||"",password:s.password||""})},[s]);const n=p=>{d(`user/${p}`)};o.exports.useEffect(()=>{n(i)},[i]);const{put:y,isLoading:w,data:b}=g("userUpdate");o.exports.useEffect(()=>{b!=null&&(N.fire({title:"Actualizado",text:"El Usuario fue actualizado con \xE9xito",icon:"success",confirmButtonText:"OK"}),d(`user/${i}`))},[i,d,b]);const f=p=>{y(`user/${t.id}`,p)};return e("div",{className:"submit-form",children:t?e("div",{children:e($,{initialValues:{id:0,name:"",username:"",password:""},onSubmit:p=>{f(p)},validationSchema:A({username:u().required("Requerido"),name:u().required("Requerido"),password:u().required("Requerido")}),children:p=>l(L,{children:[e("div",{className:"modal-body",children:e(_e,{currentUser:t})}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var Me=o.exports.memo(_);function ze(){const i=[{field:"name",headerName:"Nombre",width:300},{field:"username",headerName:"Usuario",width:300},{field:"created_at",headerName:"Fecha de creacion",width:200,renderCell:c=>l("p",{children:[" ",R(`${c.row.created_at}`).subtract(10,"days").calendar()," "]})},{field:"updated_at",headerName:"Ultima actualizacion",width:200,renderCell:c=>l("p",{children:[" ",R(`${c.row.updated_at}`).subtract(10,"days").calendar()," "]})},{field:"Acciones",headerName:"Acciones",width:130,renderCell:c=>l(x,{children:[e("i",{style:{color:"green"},className:"fa-solid fa-pen-to-square",onClick:()=>v(c.row.id),onKeyPress:()=>v(c.row.id),role:"button",tabIndex:0}),e("i",{className:"fa-solid fa-trash-can",style:{color:"red"},onClick:()=>I(c.row.id),onKeyPress:()=>v(c.row.id),role:"button",tabIndex:0})]})}],a=B(),t=V(c=>c.reducer.auth.usuarios||[]),{get:r,isLoading:d,data:s}=g("usuariosList"),[n,y]=o.exports.useState(null),[w,b]=o.exports.useState(!1);o.exports.useEffect(()=>{s!=null&&a(xe({data:s}))},[s]);const f=()=>{r("user")},{get:p,data:F}=g("user"),v=c=>{p(`user/${c}`),b(!0)};o.exports.useEffect(()=>{F!=null&&y(F)},[F]);const M=()=>{f(),b(!1)},{delete:z,data:U}=g("userRemove");o.exports.useEffect(()=>{U!=null&&f()},[U]);const I=c=>{N.fire({title:"\xBF Est\xE1s seguro ?",text:"No podr\xE1s revertir los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xED, eliminarlo"}).then(O=>{O.isConfirmed&&(N.fire("\xA1Eliminado!","El usuario ha sido eliminado correctamente.","success"),z(`user/${c}`))})};return l(x,{children:[l(C,{size:"lg",show:w,onHide:()=>M(),"aria-labelledby":"example-modal-sizes-title-lg",children:[e(C.Header,{closeButton:!0,children:e(C.Title,{id:"example-modal-sizes-title-lg",children:"Editar Usuario"})}),e(C.Body,{children:e(Me,{id:n?n.id:0})})]}),l("div",{className:"card",children:[e("div",{className:"card-header",children:e(T,{title:"Usuarios",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})})}),e("div",{className:"card-body"}),e("div",{style:{height:800},children:e(te,{rows:t,columns:i,pageSize:10,rowsPerPageOptions:[10]})})]})]})}var Ie=o.exports.memo(ze);function Ge(){return e(oe,{children:e(Ce,{injectFirst:!0,children:l(Ue,{theme:se,children:[e(De,{}),l(le,{children:[e(ye,{}),e("div",{className:"container py-5",children:e("div",{className:"row",children:l(we,{children:[e(h,{path:"nosotros",element:e(Ve,{})}),e(h,{path:"registrar",element:e(ne,{})}),e(h,{path:"anuncios",element:e(de,{})}),e(h,{path:"bolsa",element:e(ce,{})}),e(h,{path:"usuarios",element:e(Ie,{})}),e(h,{path:"productos",element:e(ue,{})}),e(h,{path:"materiales",element:e(me,{})}),e(h,{path:"categorias",element:e(pe,{})})]})})})]})]})})})}export{Ge as DashboardRoutes,Ge as default};
