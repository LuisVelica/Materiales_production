import{R as ie,U as re,V as ne,W as le,X as de,Y as ce,Z as V,H as d,_ as ue,$ as I,a0 as O,a1 as j,a2 as W,a3 as me,G as pe,a4 as he,a5 as fe,a6 as K,a7 as f,M as ge,a as be,a8 as J,a9 as X,aa as h,ab as Y,ac as ve,ad as E,ae as xe,af as H,J as ye,ag as Le,ah as we,ai as Ce,aj as Fe,ak as Ne,al as qe,am as Ee,an as De}from"./Nosotros.9cf661c9.js";import{b as e,ar as Se,r as i,aI as Pe,_ as P,a1 as Ue,W as Te,j as l,F,a as D,i as B,o as Z,aD as S,l as Q,s as Ae,k as ke,m as Re,n as $e,p as Ve,q as Be,t as Me,v as _e,u as ze,w as Ge,x as Ie,aJ as Oe,y as je,z as x}from"./index.51b3b9f1.js";const We=re({key:"css",prepend:!0});function He(t){const{injectFirst:a,children:o}=t;return a?e(ie,{value:We,children:o}):o}function Ke(t,a){return typeof a=="function"?a(t):P({},t,a)}function Je(t){const{children:a,theme:o}=t,s=Se(),c=i.exports.useMemo(()=>{const r=s===null?o:Ke(s,o);return r!=null&&(r[ne]=s!==null),r},[o,s]);return e(Pe.Provider,{value:c,children:a})}function Xe(t){var a=Ue();return e(le.Provider,{value:Te(a)==="object"?a:{},children:t.children})}function Ye(t){var a=t.children,o=t.theme;return e(Je,{theme:o,children:e(Xe,{children:a})})}var Ze=function(a,o){return P({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&{colorScheme:a.palette.mode})},Qe=function(a){return P({color:(a.vars||a).palette.text.primary},a.typography.body1,{backgroundColor:(a.vars||a).palette.background.default,"@media print":{backgroundColor:(a.vars||a).palette.common.white}})},ea=function(a){var o,s,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r={html:Ze(a,c),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:a.typography.fontWeightBold},body:P({margin:0},Qe(a),{"&::backdrop":{backgroundColor:(a.vars||a).palette.background.default}})},n=(o=a.components)==null||(s=o.MuiCssBaseline)==null?void 0:s.styleOverrides;return n&&(r=[r,n]),r};function aa(t){var a=de({props:t,name:"MuiCssBaseline"}),o=a.children,s=a.enableColorScheme,c=s===void 0?!1:s;return l(i.exports.Fragment,{children:[e(ce,{styles:function(n){return ea(n,c)}}),o]})}function sa(){const t=V(),{file:a,isLoading:o,data:s}=d("file");i.exports.useEffect(()=>{s!=null&&(t.setFieldValue("url",s),n(!1),g(!0))},[s]);const c=i.exports.useCallback(v=>{var p;if(((p=v.target.files)==null?void 0:p.length)!==void 0){const y=v.target.files[0];n(!0);const L=new FormData;L.append("video",y),a("subirvideos",L)}},[a]),[r,n]=i.exports.useState(!1),[w,g]=i.exports.useState(!1);return l(F,{children:[o&&e(ue,{}),l(I,{open:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(O,{id:"alert-dialog-title",children:"Su video fue guardado correctamente"}),e(j,{children:e(W,{id:"alert-dialog-description",children:e("iframe",{width:"560",height:"315",src:s,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),e(me,{children:e(pe,{color:"error",variant:"contained",onClick:()=>{g(!1)},children:"OK"})})]}),l(I,{open:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(O,{id:"alert-dialog-title",children:"Cargando.."}),e(j,{children:e(W,{id:"alert-dialog-description",children:"Por favor no cierre hasta que termine de cargar..."})})]}),l("div",{className:"mb-3",children:[e("label",{htmlFor:"formFile",className:"form-label",children:"Imagen"}),e("input",{className:"form-control",id:"formFile",type:"file",name:"file",accept:"image/*,video/*",onChange:c})]}),e(he,{name:"url",id:"url",type:"hidden"}),e(fe,{name:"url",component:"span"})]})}var ta=i.exports.memo(sa);function oa({currentNosotros:t}){const a=V(),o=s=>{a.setFieldValue("id",s.id),a.setFieldValue("url",s.url),a.setFieldValue("name",s.name),a.setFieldValue("descripcion",s.descripcion),a.setFieldValue("estado",s.estado),a.setFieldValue("municipio",s.municipio),a.setFieldValue("phone",s.phone),a.setFieldValue("domicilio",s.domicilio),a.setFieldValue("face",s.face),a.setFieldValue("whatsapp",s.whatsapp),a.setFieldValue("correo",s.correo)};return i.exports.useEffect(()=>{o(t)},[t]),l(F,{children:[e(K,{title:"Nosotros",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})}),l("div",{className:"row rows-cols-1 row-cols-md-3 g-3 animate__animated animate__fadeIn notes__image",children:[l("div",{className:"col-md-6",children:[e(f,{label:"Nombre de empresa",name:"name",id:"name",type:"text",placeholder:"Nombre de empresa"}),e(ta,{}),e(f,{label:"Phone",name:"phone",id:"phone",type:"text",placeholder:"Phone"}),e(f,{label:"whatsapp",name:"whatsapp",id:"whatsapp",type:"text",placeholder:"whatsapp"})]})," ",t.url!=""?e(ge,{material:t,children:()=>e(be,{className:"custom-image",style:{boxShadow:"10px 10px 10px rgba(0,0,0,0.2)"}})},t.id):e(F,{children:"NoImage"})," "]}),e("div",{className:"col-12",children:e(f,{label:"Descripcion",name:"descripcion",id:"descripcion",type:"text",placeholder:"Descripcion"})}),e("div",{className:"col-12",children:e(f,{label:"Domicilio",name:"domicilio",id:"domicilio",type:"text",placeholder:"Domicilio"})}),e("div",{className:"col-md-6",children:e(f,{label:"Municipio",name:"municipio",id:"municipio",type:"text",placeholder:"Municipio"})}),e("div",{className:"col-md-6",children:e(f,{label:"Estado",name:"estado",id:"estado",type:"text",placeholder:"Estado"})}),e("div",{className:"col-md-12",children:e(f,{label:"face",name:"face",id:"face",type:"text",placeholder:"face"})}),e("div",{className:"col-md-12",children:e(f,{label:"correo",name:"correo",id:"correo",type:"text",placeholder:"correo"})})]})}var ia=i.exports.memo(oa);function ra(){const t=D(n=>n.reducer.auth.nosotros||[]),{put:a,isLoading:o,data:s}=d("nosotrosUpdate"),c=B();i.exports.useEffect(()=>{s!=null&&(c(Z({data:s})),S.fire({title:"Actualizado",text:"Datos actualizados con \xE9xito",icon:"success",confirmButtonText:"OK"}))},[c,s]);const r=n=>{a("empresa",n)};return e("div",{className:"submit-form",children:t?e("div",{children:e(J,{initialValues:{id:0,name:"",domicilio:"",url:"",estado:"",municipio:"",phone:"",descripcion:"",face:"",whatsapp:"",correo:""},onSubmit:n=>{r(n)},validationSchema:X({name:h().required("Requerido"),url:h().required("Requerido"),domicilio:h().required("Requerido"),phone:h().required("Requerido"),municipio:h().required("Requerido"),estado:h().required("Requerido"),descripcion:h().required("Requerido"),whatsapp:h().required("Requerido"),face:h().required("Requerido"),correo:h().email("El correo no tiene un formato v\xE1lido").required("Requerido")}),children:n=>l(Y,{children:[e("div",{className:"row g-3",children:e(ia,{currentNosotros:t})}),e("div",{className:"col-12",children:e("button",{type:"submit",className:"float-end btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var na=i.exports.memo(ra);function la({currentUser:t}){const a=V(),o=s=>{a.setFieldValue("id",s.id),a.setFieldValue("name",s.name),a.setFieldValue("username",s.username),a.setFieldValue("password",s.password)};return i.exports.useEffect(()=>{o(t)},[t]),l(F,{children:[e("div",{className:"form-group mb-3 ",children:e(f,{label:"Nombre",name:"name",id:"name",type:"text",placeholder:"Nombre"})}),e("div",{className:"form-group mb-3",children:e(f,{label:"Usuario",name:"username",id:"username",type:"text",placeholder:"Usuario"})}),e("div",{className:"form-group mb-3",children:e(f,{label:"Password",name:"password",id:"password",type:"password",placeholder:"Password"})})]})}var da=i.exports.memo(la);ee.propTypes={id:ve.exports.number.isRequired};function ee({id:t}){const a={id:0,name:"",username:"",password:""},[o,s]=i.exports.useState(a),{get:c,data:r}=d("user");i.exports.useEffect(()=>{r!=null&&s({id:r.id||0,name:r.name||"",username:r.username||"",password:r.password||""})},[r]);const n=p=>{c(`user/${p}`)};i.exports.useEffect(()=>{n(t)},[t]);const{put:w,isLoading:g,data:b}=d("userUpdate");i.exports.useEffect(()=>{b!=null&&(S.fire({title:"Actualizado",text:"El Usuario fue actualizado con \xE9xito",icon:"success",confirmButtonText:"OK"}),c(`user/${t}`))},[t,c,b]);const v=p=>{w(`user/${o.id}`,p)};return e("div",{className:"submit-form",children:o?e("div",{children:e(J,{initialValues:{id:0,name:"",username:"",password:""},onSubmit:p=>{v(p)},validationSchema:X({username:h().required("Requerido"),name:h().required("Requerido"),password:h().required("Requerido")}),children:p=>l(Y,{children:[e("div",{className:"modal-body",children:e(da,{currentUser:o})}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var ca=i.exports.memo(ee);function ua(){const t=[{field:"name",headerName:"Nombre",width:300},{field:"username",headerName:"Usuario",width:300},{field:"created_at",headerName:"Fecha de creacion",width:200,renderCell:u=>l("p",{children:[" ",H(`${u.row.created_at}`).subtract(10,"days").calendar()," "]})},{field:"updated_at",headerName:"Ultima actualizacion",width:200,renderCell:u=>l("p",{children:[" ",H(`${u.row.updated_at}`).subtract(10,"days").calendar()," "]})},{field:"Acciones",headerName:"Acciones",width:130,renderCell:u=>l(F,{children:[e("i",{style:{color:"green"},className:"fa-solid fa-pen-to-square",onClick:()=>L(u.row.id),onKeyPress:()=>L(u.row.id),role:"button",tabIndex:0}),e("i",{className:"fa-solid fa-trash-can",style:{color:"red"},onClick:()=>q(u.row.id),onKeyPress:()=>L(u.row.id),role:"button",tabIndex:0})]})}],a=B(),o=D(u=>u.reducer.auth.usuarios||[]),{get:s,isLoading:c,data:r}=d("usuariosList"),[n,w]=i.exports.useState(null),[g,b]=i.exports.useState(!1);i.exports.useEffect(()=>{r!=null&&a(Q({data:r}))},[r]);const v=()=>{s("user")},{get:p,data:y}=d("user"),L=u=>{p(`user/${u}`),b(!0)};i.exports.useEffect(()=>{y!=null&&w(y)},[y]);const N=()=>{v(),b(!1)},{delete:U,data:T}=d("userRemove");i.exports.useEffect(()=>{T!=null&&v()},[T]);const q=u=>{S.fire({title:"\xBF Est\xE1s seguro ?",text:"No podr\xE1s revertir los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xED, eliminarlo"}).then(M=>{M.isConfirmed&&(S.fire("\xA1Eliminado!","El usuario ha sido eliminado correctamente.","success"),U(`user/${u}`))})};return l(F,{children:[l(E,{size:"lg",show:g,onHide:()=>N(),"aria-labelledby":"example-modal-sizes-title-lg",children:[e(E.Header,{closeButton:!0,children:e(E.Title,{id:"example-modal-sizes-title-lg",children:"Editar Usuario"})}),e(E.Body,{children:e(ca,{id:n?n.id:0})})]}),l("div",{className:"card",children:[e("div",{className:"card-header",children:e(K,{title:"Usuarios",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})})}),e("div",{className:"card-body"}),e("div",{style:{height:800},children:e(xe,{rows:o,columns:t,pageSize:10,rowsPerPageOptions:[10]})})]})]})}var ma=i.exports.memo(ua);function va(){const{get:t,isLoading:a,data:o}=d("numeroversion"),{get:s,isLoading:c,data:r}=d("promociones"),{get:n,isLoading:w,data:g}=d("videos"),{get:b,isLoading:v,data:p}=d("usuarios"),{get:y,isLoading:L,data:N}=d("materialesList"),{get:U,isLoading:T,data:q}=d("nosotros"),{get:u,isLoading:M,data:A}=d("categoriasList"),{get:ae,isLoading:pa,data:k}=d("blogsList"),{get:se,isLoading:ha,data:R}=d("productosbosqueList"),{get:te,isLoading:fa,data:$}=d("bolsasList"),m=B(),oe=D(C=>C.reducer.auth.version||[]);i.exports.useEffect(()=>{o!=null&&oe.UPDATE_TIME!==(o==null?void 0:o.UPDATE_TIME)&&(y("materiales"),u("categorias"),ae("blogs"),te("bolsas"),n("videos"),s("promociones"),U("empresa"),b("user"),se("productosbosques"))},[o]),i.exports.useEffect(()=>{t("numeroversion")},[t]),i.exports.useEffect(()=>{o!=null&&m(Ae({version:o}))},[m,o]),i.exports.useEffect(()=>{$!=null&&k!=null&&R!=null&&A!=null&&N!=null&&q!=null&&p!=null&&g!=null&&r!=null&&(m(ke({data:$})),m(Q({data:p})),m(Re({data:r})),m($e({data:g})),m(Z({data:q})),m(Ve({data:N})),m(Be({data:A})),m(Me({data:k})),m(_e({data:R})))},[k,R,m,A,N,q,p,g,r,$]),D(C=>C.reducer.auth.nosotros);const{pathname:_,search:z}=ze();i.exports.useEffect(()=>{m(Ge({lastPath:_+z})),window.scrollTo(0,0)},[m,_,z]);const G=i.exports.useMemo(()=>ye(),[]);return i.exports.useEffect(()=>{G.then(C=>{m(Ie({value:C}))},C=>{})},[G,m]),e(He,{injectFirst:!0,children:l(Ye,{theme:Le,children:[e(aa,{}),l(we,{children:[e(Oe,{}),e("div",{className:"container py-5",children:e("div",{className:"row",children:l(je,{children:[e(x,{path:"nosotros",element:e(na,{})}),e(x,{path:"registrar",element:e(Ce,{})}),e(x,{path:"anuncios",element:e(Fe,{})}),e(x,{path:"bolsa",element:e(Ne,{})}),e(x,{path:"usuarios",element:e(ma,{})}),e(x,{path:"productos",element:e(qe,{})}),e(x,{path:"materiales",element:e(Ee,{})}),e(x,{path:"categorias",element:e(De,{})})]})})})]})]})})}export{va as DashboardRoutes,va as default};
