import{U as G,V as K,W,X as H,Y as J,Z as Q,$ as k,J as g,a0 as X,a1 as q,a2 as E,a3 as P,a4 as T,a5 as Y,G as Z,a6 as ee,a7 as ae,a8 as R,a9 as m,M as re,a as ie,aa as $,ab as A,ac as u,ad as L,ae as te,af as C,ag as oe,K as se,ah as le,ai as ne,aj as de,ak as ce,al as ue,am as me,an as pe,ao as he}from"./Nosotros.b05c16ee.js";import{b as e,at as fe,r as o,aN as ge,_ as S,Q as be,I as ve,j as l,F as x,L as V,a as B,g as M,h as xe,aI as N,af as ye,aE as D,aO as we,i as Fe,k as h}from"./index.9a9cf8cd.js";const Ce=K({key:"css",prepend:!0});function Ne(i){const{injectFirst:a,children:t}=i;return a?e(G,{value:Ce,children:t}):t}function Se(i,a){return typeof a=="function"?a(i):S({},i,a)}function ke(i){const{children:a,theme:t}=i,r=fe(),d=o.exports.useMemo(()=>{const s=r===null?t:Se(r,t);return s!=null&&(s[W]=r!==null),s},[t,r]);return e(ge.Provider,{value:d,children:a})}function Ue(i){var a=be();return e(H.Provider,{value:ve(a)==="object"?a:{},children:i.children})}function qe(i){var a=i.children,t=i.theme;return e(ke,{theme:t,children:e(Ue,{children:a})})}var Ee=function(a,t){return S({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:a.palette.mode})},Pe=function(a){return S({color:(a.vars||a).palette.text.primary},a.typography.body1,{backgroundColor:(a.vars||a).palette.background.default,"@media print":{backgroundColor:(a.vars||a).palette.common.white}})},Te=function(a){var t,r,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={html:Ee(a,d),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:a.typography.fontWeightBold},body:S({margin:0},Pe(a),{"&::backdrop":{backgroundColor:(a.vars||a).palette.background.default}})},n=(t=a.components)==null||(r=t.MuiCssBaseline)==null?void 0:r.styleOverrides;return n&&(s=[s,n]),s};function De(i){var a=J({props:i,name:"MuiCssBaseline"}),t=a.children,r=a.enableColorScheme,d=r===void 0?!1:r;return l(o.exports.Fragment,{children:[e(Q,{styles:function(n){return Te(n,d)}}),t]})}function Re(){const i=k(),{file:a,isLoading:t,data:r}=g("file");o.exports.useEffect(()=>{r!=null&&(i.setFieldValue("url",r),n(!1),w(!0))},[r]);const d=o.exports.useCallback(f=>{var p;if(((p=f.target.files)==null?void 0:p.length)!==void 0){const F=f.target.files[0];n(!0);const v=new FormData;v.append("video",F),a("subirvideos",v)}},[a]),[s,n]=o.exports.useState(!1),[y,w]=o.exports.useState(!1);return l(x,{children:[t&&e(X,{}),l(q,{open:y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(E,{id:"alert-dialog-title",children:"Su video fue guardado correctamente"}),e(P,{children:e(T,{id:"alert-dialog-description",children:e("iframe",{width:"560",height:"315",src:r,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),e(Y,{children:e(Z,{color:"error",variant:"contained",onClick:()=>{w(!1)},children:"OK"})})]}),l(q,{open:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(E,{id:"alert-dialog-title",children:"Cargando.."}),e(P,{children:e(T,{id:"alert-dialog-description",children:"Por favor no cierre hasta que termine de cargar..."})})]}),l("div",{className:"mb-3",children:[e("label",{htmlFor:"formFile",className:"form-label",children:"Imagen"}),e("input",{className:"form-control",id:"formFile",type:"file",name:"file",accept:"image/*,video/*",onChange:d})]}),e(ee,{name:"url",id:"url",type:"hidden"}),e(ae,{name:"url",component:"span"})]})}var $e=o.exports.memo(Re);function Ae({currentNosotros:i}){const a=k(),t=r=>{a.setFieldValue("id",r.id),a.setFieldValue("url",r.url),a.setFieldValue("name",r.name),a.setFieldValue("descripcion",r.descripcion),a.setFieldValue("estado",r.estado),a.setFieldValue("municipio",r.municipio),a.setFieldValue("phone",r.phone),a.setFieldValue("domicilio",r.domicilio),a.setFieldValue("face",r.face),a.setFieldValue("whatsapp",r.whatsapp),a.setFieldValue("correo",r.correo)};return o.exports.useEffect(()=>{t(i)},[i]),l(x,{children:[e(R,{title:"Nosotros",main:!0,children:e(V,{to:"/admin/registrar",className:"btn-darkred btn-primary-darkred",children:"Agregar nuevo Usuario"})}),l("div",{className:"row rows-cols-1 row-cols-md-3 g-3 animate__animated animate__fadeIn notes__image",children:[l("div",{className:"col-md-6",children:[e(m,{label:"Nombre de empresa",name:"name",id:"name",type:"text",placeholder:"Nombre de empresa"}),e($e,{}),e(m,{label:"Phone",name:"phone",id:"phone",type:"text",placeholder:"Phone"}),e(m,{label:"whatsapp",name:"whatsapp",id:"whatsapp",type:"text",placeholder:"whatsapp"})]})," ",i.url!=""?e(re,{material:i,children:()=>e(ie,{className:"custom-image",style:{boxShadow:"10px 10px 10px rgba(0,0,0,0.2)"}})},i.id):e(x,{children:"NoImage"})," "]}),e("div",{className:"col-12",children:e(m,{label:"Descripcion",name:"descripcion",id:"descripcion",type:"text",placeholder:"Descripcion"})}),e("div",{className:"col-12",children:e(m,{label:"Domicilio",name:"domicilio",id:"domicilio",type:"text",placeholder:"Domicilio"})}),e("div",{className:"col-md-6",children:e(m,{label:"Municipio",name:"municipio",id:"municipio",type:"text",placeholder:"Municipio"})}),e("div",{className:"col-md-6",children:e(m,{label:"Estado",name:"estado",id:"estado",type:"text",placeholder:"Estado"})}),e("div",{className:"col-md-12",children:e(m,{label:"face",name:"face",id:"face",type:"text",placeholder:"face"})}),e("div",{className:"col-md-12",children:e(m,{label:"correo",name:"correo",id:"correo",type:"text",placeholder:"correo"})})]})}var Le=o.exports.memo(Ae);function Ve(){const i=B(n=>n.reducer.auth.nosotros||[]),{put:a,isLoading:t,data:r}=g("nosotrosUpdate"),d=M();o.exports.useEffect(()=>{r!=null&&(d(xe({data:r})),N.fire({title:"Actualizado",text:"Datos actualizados con \xE9xito",icon:"success",confirmButtonText:"OK"}))},[d,r]);const s=n=>{a("empresa",n)};return e("div",{className:"submit-form",children:i?e("div",{children:e($,{initialValues:{id:0,name:"",domicilio:"",url:"",estado:"",municipio:"",phone:"",descripcion:"",face:"",whatsapp:"",correo:""},onSubmit:n=>{s(n)},validationSchema:A({name:u().required("Requerido"),url:u().required("Requerido"),domicilio:u().required("Requerido"),phone:u().required("Requerido"),municipio:u().required("Requerido"),estado:u().required("Requerido"),descripcion:u().required("Requerido"),whatsapp:u().required("Requerido"),face:u().required("Requerido"),correo:u().email("El correo no tiene un formato v\xE1lido").required("Requerido")}),children:n=>l(L,{children:[e("div",{className:"row g-3",children:e(Le,{currentNosotros:i})}),e("div",{className:"col-12",children:e("button",{type:"submit",className:"float-end btn btn-primary-darkred",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var Be=o.exports.memo(Ve);function Me({currentUser:i}){const a=k(),t=r=>{a.setFieldValue("id",r.id),a.setFieldValue("name",r.name),a.setFieldValue("username",r.username),a.setFieldValue("password",r.password)};return o.exports.useEffect(()=>{t(i)},[i]),l(x,{children:[e("div",{className:"form-group mb-3 ",children:e(m,{label:"Nombre",name:"name",id:"name",type:"text",placeholder:"Nombre"})}),e("div",{className:"form-group mb-3",children:e(m,{label:"Usuario",name:"username",id:"username",type:"text",placeholder:"Usuario"})}),e("div",{className:"form-group mb-3",children:e(m,{label:"Password",name:"password",id:"password",type:"password",placeholder:"Password"})})]})}var _e=o.exports.memo(Me);_.propTypes={id:te.exports.number.isRequired};function _({id:i}){const a={id:0,name:"",username:"",password:""},[t,r]=o.exports.useState(a),{get:d,data:s}=g("user");o.exports.useEffect(()=>{s!=null&&r({id:s.id||0,name:s.name||"",username:s.username||"",password:s.password||""})},[s]);const n=p=>{d(`user/${p}`)};o.exports.useEffect(()=>{n(i)},[i]);const{put:y,isLoading:w,data:b}=g("userUpdate");o.exports.useEffect(()=>{b!=null&&(N.fire({title:"Actualizado",text:"El Usuario fue actualizado con \xE9xito",icon:"success",confirmButtonText:"OK"}),d(`user/${i}`))},[i,d,b]);const f=p=>{y(`user/${t.id}`,p)};return e("div",{className:"submit-form",children:t?e("div",{children:e($,{initialValues:{id:0,name:"",username:"",password:""},onSubmit:p=>{f(p)},validationSchema:A({username:u().required("Requerido"),name:u().required("Requerido"),password:u().required("Requerido")}),children:p=>l(L,{children:[e("div",{className:"modal-body",children:e(_e,{currentUser:t})}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn-darkred btn-primary-darkred",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var ze=o.exports.memo(_);function Ie(){const i=[{field:"name",headerName:"Nombre",width:300},{field:"username",headerName:"Usuario",width:300},{field:"created_at",headerName:"Fecha de creacion",width:200,renderCell:c=>l("p",{children:[" ",D(`${c.row.created_at}`).subtract(10,"days").calendar()," "]})},{field:"updated_at",headerName:"Ultima actualizacion",width:200,renderCell:c=>l("p",{children:[" ",D(`${c.row.updated_at}`).subtract(10,"days").calendar()," "]})},{field:"Acciones",headerName:"Acciones",width:130,renderCell:c=>l(x,{children:[e("i",{style:{color:"green"},className:"fa-solid fa-pen-to-square",onClick:()=>v(c.row.id),onKeyPress:()=>v(c.row.id),role:"button",tabIndex:0}),e("i",{className:"fa-solid fa-trash-can",style:{color:"red"},onClick:()=>O(c.row.id),onKeyPress:()=>v(c.row.id),role:"button",tabIndex:0})]})}],a=M(),t=B(c=>c.reducer.auth.usuarios||[]),{get:r,isLoading:d,data:s}=g("usuariosList"),[n,y]=o.exports.useState(null),[w,b]=o.exports.useState(!1);o.exports.useEffect(()=>{s!=null&&a(ye({data:s}))},[s]);const f=()=>{r("user")},{get:p,data:F}=g("user"),v=c=>{p(`user/${c}`),b(!0)};o.exports.useEffect(()=>{F!=null&&y(F)},[F]);const z=()=>{f(),b(!1)},{delete:I,data:U}=g("userRemove");o.exports.useEffect(()=>{U!=null&&f()},[U]);const O=c=>{N.fire({title:"\xBF Est\xE1s seguro ?",text:"No podr\xE1s revertir los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xED, eliminarlo"}).then(j=>{j.isConfirmed&&(N.fire("\xA1Eliminado!","El usuario ha sido eliminado correctamente.","success"),I(`user/${c}`))})};return l(x,{children:[l(C,{size:"lg",show:w,onHide:()=>z(),"aria-labelledby":"example-modal-sizes-title-lg",children:[e(C.Header,{closeButton:!0,children:e(C.Title,{id:"example-modal-sizes-title-lg",children:"Editar Usuario"})}),e(C.Body,{children:e(ze,{id:n?n.id:0})})]}),l("div",{className:"card",children:[e("div",{className:"card-header",children:e(R,{title:"Usuarios",main:!0,children:e(V,{to:"/admin/registrar",className:"btn-darkred btn-primary-darkred",children:"Agregar nuevo Usuario"})})}),e("div",{className:"card-body"}),e("div",{style:{height:800},children:e(oe,{rows:t,columns:i,pageSize:10,rowsPerPageOptions:[10]})})]})]})}var Oe=o.exports.memo(Ie);function Ke(){return e(se,{children:e(Ne,{injectFirst:!0,children:l(qe,{theme:le,children:[e(De,{}),l(ne,{maxWidth:"95%",children:[e(we,{}),e("div",{className:"container py-5",children:e("div",{className:"row",children:l(Fe,{children:[e(h,{path:"nosotros",element:e(Be,{})}),e(h,{path:"registrar",element:e(de,{})}),e(h,{path:"anuncios",element:e(ce,{})}),e(h,{path:"bolsa",element:e(ue,{})}),e(h,{path:"usuarios",element:e(Oe,{})}),e(h,{path:"productos",element:e(me,{})}),e(h,{path:"materiales",element:e(pe,{})}),e(h,{path:"categorias",element:e(he,{})})]})})})]})]})})})}export{Ke as DashboardRoutes,Ke as default};
