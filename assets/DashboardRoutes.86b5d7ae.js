import{r as n,a as o,F as b,j as e,Z as f,am as B,an as g,ao as P,R as k,c as h}from"./index.d94f646d.js";import{d as y,e as z,E as M,s as _,f as F,g as c,M as O,a as $,u as q,h as C,i as U,j as s,k as R,p as I,l as v,_ as T,m as N,L as D,R as L,B as H,n as j,V as K,C as W,o as Z}from"./Nosotros.094e07ba.js";function G(){const t=y();return o(b,{children:[o("div",{className:"mb-3",children:[e("label",{htmlFor:"formFile",className:"form-label",children:"Imagen"}),e("input",{className:"form-control",id:"formFile",type:"file",name:"file",accept:"video/*",onChange:d=>{var a;if(((a=d.target.files)==null?void 0:a.length)!==void 0){const r=d.target.files[0];r&&(f.fire({title:"Cargando..",text:"Por favor no cierre hasta que termine de cargar...",allowOutsideClick:!1}),_(r).then(p=>{t.setFieldValue("url",p),f.close(),f.fire({title:":D",allowOutsideClick:!1,text:"Su video fue guardado correctamente",html:`<iframe width="560" height="315" src="${p}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,imageWidth:400,imageHeight:200,imageAlt:"Custom image"})},p=>{}))}}})]}),e(z,{name:"url",id:"url",type:"hidden"}),e(M,{name:"url",component:"span"})]})}var J=n.exports.memo(G);function Q({currentNosotros:t}){const i=y(),d=a=>{i.setFieldValue("id",a.id),i.setFieldValue("url",a.url),i.setFieldValue("name",a.name),i.setFieldValue("descripcion",a.descripcion),i.setFieldValue("estado",a.estado),i.setFieldValue("municipio",a.municipio),i.setFieldValue("phone",a.phone),i.setFieldValue("domicilio",a.domicilio),i.setFieldValue("face",a.face),i.setFieldValue("whatsapp",a.whatsapp),i.setFieldValue("correo",a.correo)};return n.exports.useEffect(()=>{d(t)},[t]),o(b,{children:[e(F,{title:"Nosotros",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})}),o("div",{className:"row rows-cols-1 row-cols-md-3 g-3 animate__animated animate__fadeIn notes__image",children:[o("div",{className:"col-md-6",children:[e(c,{label:"Nombre de empresa",name:"name",id:"name",type:"text",placeholder:"Nombre de empresa"}),e(J,{}),e(c,{label:"Phone",name:"phone",id:"phone",type:"text",placeholder:"Phone"}),e(c,{label:"whatsapp",name:"whatsapp",id:"whatsapp",type:"text",placeholder:"whatsapp"})]})," ",t.url!=""?e(O,{material:t,children:()=>e($,{className:"custom-image",style:{boxShadow:"10px 10px 10px rgba(0,0,0,0.2)"}})},t.id):e(b,{children:"NoImage"})," "]}),e("div",{className:"col-12",children:e(c,{label:"Descripcion",name:"descripcion",id:"descripcion",type:"text",placeholder:"Descripcion"})}),e("div",{className:"col-12",children:e(c,{label:"Domicilio",name:"domicilio",id:"domicilio",type:"text",placeholder:"Domicilio"})}),e("div",{className:"col-md-6",children:e(c,{label:"Municipio",name:"municipio",id:"municipio",type:"text",placeholder:"Municipio"})}),e("div",{className:"col-md-6",children:e(c,{label:"Estado",name:"estado",id:"estado",type:"text",placeholder:"Estado"})}),e("div",{className:"col-md-12",children:e(c,{label:"face",name:"face",id:"face",type:"text",placeholder:"face"})}),e("div",{className:"col-md-12",children:e(c,{label:"correo",name:"correo",id:"correo",type:"text",placeholder:"correo"})})]})}var X=n.exports.memo(Q);function Y(){const{currentNosotros:t,setCurrentNosotros:i}=q(),d=a=>{B.update(a).then(r=>{i({id:r.data.name||0,name:r.data.name||"",descripcion:r.data.descripcion||"",url:r.data.url||"",domicilio:r.data.domicilio||"",estado:r.data.estado||"",municipio:r.data.municipio||"",phone:r.data.phone||"",whatsapp:r.data.whatsapp||"",face:r.data.face||"",correo:r.data.correo||""}),f.fire({title:"Actualizado",text:"Datos actualizados con \xE9xito",icon:"success",confirmButtonText:"OK"})}).catch(r=>{alert("Ocurrio un error actualizando")})};return e("div",{className:"submit-form",children:t?e("div",{children:e(C,{initialValues:{id:0,name:"",domicilio:"",url:"",estado:"",municipio:"",phone:"",descripcion:"",face:"",whatsapp:"",correo:""},onSubmit:a=>{d(a)},validationSchema:U({name:s().required("Requerido"),url:s().required("Requerido"),domicilio:s().required("Requerido"),phone:s().required("Requerido"),municipio:s().required("Requerido"),estado:s().required("Requerido"),descripcion:s().required("Requerido"),whatsapp:s().required("Requerido"),face:s().required("Requerido"),correo:s().email("El correo no tiene un formato v\xE1lido").required("Requerido")}),children:a=>o(R,{children:[e("div",{className:"row g-3",children:e(X,{currentNosotros:t})}),e("div",{className:"col-12",children:e("button",{type:"submit",className:"float-end btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var ee=n.exports.memo(Y);function ae({currentUser:t}){const i=y(),d=a=>{i.setFieldValue("id",a.id),i.setFieldValue("name",a.name),i.setFieldValue("username",a.username),i.setFieldValue("password",a.password)};return n.exports.useEffect(()=>{d(t)},[t]),o(b,{children:[e("div",{className:"form-group mb-3 ",children:e(c,{label:"Nombre",name:"name",id:"name",type:"text",placeholder:"Nombre"})}),e("div",{className:"form-group mb-3",children:e(c,{label:"Usuario",name:"username",id:"username",type:"text",placeholder:"Usuario"})}),e("div",{className:"form-group mb-3",children:e(c,{label:"Password",name:"password",id:"password",type:"password",placeholder:"Password"})})]})}var ie=n.exports.memo(ae);V.propTypes={id:I.exports.number.isRequired};function V({id:t}){const i={id:0,name:"",username:"",password:""},[d,a]=n.exports.useState(i),r=u=>{g.getById(u).then(m=>{a({id:m.data.id||0,name:m.data.name||"",username:m.data.username||"",password:m.data.password||""})}).catch(m=>{alert("Ocurrio un error")})};n.exports.useEffect(()=>{r(t)},[t]);const p=u=>{g.update(d.id,u).then(m=>{f.fire({title:"Actualizado",text:"El Usuario fue actualizado con \xE9xito",icon:"success",confirmButtonText:"OK"})}).catch(m=>{alert("Ocurrio un error actualizando el Usuario")})};return e("div",{className:"submit-form",children:d?e("div",{children:e(C,{initialValues:{id:0,name:"",username:"",password:""},onSubmit:u=>{p(u)},validationSchema:U({username:s().required("Requerido"),name:s().required("Requerido"),password:s().required("Requerido")}),children:u=>o(R,{children:[e("div",{className:"modal-body",children:e(ie,{currentUser:d})}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var re=n.exports.memo(V);function te(){const t=[{field:"name",headerName:"Nombre",width:300},{field:"username",headerName:"Usuario",width:300},{field:"created_at",headerName:"Fecha de creacion",width:200,renderCell:l=>o("p",{children:[" ",N(`${l.row.created_at}`).subtract(10,"days").calendar()," "]})},{field:"updated_at",headerName:"Ultima actualizacion",width:200,renderCell:l=>o("p",{children:[" ",N(`${l.row.updated_at}`).subtract(10,"days").calendar()," "]})},{field:"Acciones",headerName:"Acciones",width:130,renderCell:l=>o(b,{children:[e("i",{style:{color:"green"},className:"fa-solid fa-pen-to-square",onClick:()=>w(l.row.id),onKeyPress:()=>w(l.row.id),role:"button",tabIndex:0}),e("i",{className:"fa-solid fa-trash-can",style:{color:"red"},onClick:()=>S(l.row.id),onKeyPress:()=>w(l.row.id),role:"button",tabIndex:0})]})}],{user:i,setUser:d}=q(),[a,r]=n.exports.useState(null),[p,u]=n.exports.useState(!1),m=()=>{g.getAll().then(l=>{d(l.data)}).catch(l=>{alert("Ocurrio un error")})},w=l=>{g.getById(l).then(x=>{r(x.data)}).catch(x=>{alert("Ocurrio un error")}),u(!0)},E=()=>{m(),u(!1)},S=l=>{f.fire({title:"\xBF Est\xE1s seguro ?",text:"No podr\xE1s revertir los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xED, eliminarlo"}).then(x=>{x.isConfirmed&&(f.fire("\xA1Eliminado!","El usuario ha sido eliminado correctamente.","success"),g.remove(l).then(A=>{m()}).catch(A=>{alert("Ocurrio un error al tratar de eliminar el Usuario")}))})};return o(b,{children:[o(v,{size:"lg",show:p,onHide:()=>E(),"aria-labelledby":"example-modal-sizes-title-lg",children:[e(v.Header,{closeButton:!0,children:e(v.Title,{id:"example-modal-sizes-title-lg",children:"Editar Usuario"})}),e(v.Body,{children:e(re,{id:a?a.id:0})})]}),o("div",{className:"card",children:[e("div",{className:"card-header",children:e(F,{title:"Usuarios",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})})}),e("div",{className:"card-body"}),e("div",{style:{height:800},children:e(T,{rows:i,columns:t,pageSize:10,rowsPerPageOptions:[10]})})]})]})}var oe=n.exports.memo(te);function se(){return o(D,{children:[e(P,{}),e("div",{className:"container py-5",children:e("div",{className:"row",children:o(k,{children:[e(h,{path:"nosotros",element:e(ee,{})}),e(h,{path:"registrar",element:e(L,{})}),e(h,{path:"anuncios",element:e(H,{})}),e(h,{path:"bolsa",element:e(j,{})}),e(h,{path:"usuarios",element:e(oe,{})}),e(h,{path:"videos",element:e(K,{})}),e(h,{path:"materiales",element:e(W,{})}),e(h,{path:"categorias",element:e(Z,{})})]})})})]})}export{se as DashboardRoutes,se as default};
