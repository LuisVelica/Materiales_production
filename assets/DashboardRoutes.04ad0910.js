import{R as ie,U as re,V as ne,W as le,X as de,Y as ce,Z as M,H as d,_ as ue,$ as O,a0 as j,a1 as W,a2 as H,a3 as me,G as pe,a4 as he,a5 as fe,a6 as J,a7 as f,M as ge,a as be,a8 as X,a9 as Y,aa as h,ab as Z,ac as ve,ad as N,ae as xe,af as K,J as ye,ag as Le,ah as we,ai as Ce,aj as Fe,ak as Ee,al as De,am as Ne,an as qe}from"./Nosotros.c5d8d116.js";import{b as e,ar as Se,r as i,aI as Pe,_ as S,a1 as Te,W as Ue,j as l,F as C,a as _,i as $,o as Q,aD as q,l as ee,s as Ae,k as ke,m as Re,n as Me,p as _e,q as $e,t as Ve,v as Be,u as ze,w as Ge,x as Ie,aJ as Oe,y as je,z as x}from"./index.991e6b4b.js";const We=re({key:"css",prepend:!0});function He(s){const{injectFirst:a,children:o}=s;return a?e(ie,{value:We,children:o}):o}function Ke(s,a){return typeof a=="function"?a(s):S({},s,a)}function Je(s){const{children:a,theme:o}=s,t=Se(),c=i.exports.useMemo(()=>{const r=t===null?o:Ke(t,o);return r!=null&&(r[ne]=t!==null),r},[o,t]);return e(Pe.Provider,{value:c,children:a})}function Xe(s){var a=Te();return e(le.Provider,{value:Ue(a)==="object"?a:{},children:s.children})}function Ye(s){var a=s.children,o=s.theme;return e(Je,{theme:o,children:e(Xe,{children:a})})}var Ze=function(a,o){return S({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&{colorScheme:a.palette.mode})},Qe=function(a){return S({color:(a.vars||a).palette.text.primary},a.typography.body1,{backgroundColor:(a.vars||a).palette.background.default,"@media print":{backgroundColor:(a.vars||a).palette.common.white}})},ea=function(a){var o,t,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r={html:Ze(a,c),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:a.typography.fontWeightBold},body:S({margin:0},Qe(a),{"&::backdrop":{backgroundColor:(a.vars||a).palette.background.default}})},n=(o=a.components)==null||(t=o.MuiCssBaseline)==null?void 0:t.styleOverrides;return n&&(r=[r,n]),r};function aa(s){var a=de({props:s,name:"MuiCssBaseline"}),o=a.children,t=a.enableColorScheme,c=t===void 0?!1:t;return l(i.exports.Fragment,{children:[e(ce,{styles:function(n){return ea(n,c)}}),o]})}function ta(){const s=M(),{file:a,isLoading:o,data:t}=d("file");i.exports.useEffect(()=>{t!=null&&(s.setFieldValue("url",t),n(!1),g(!0))},[t]);const c=i.exports.useCallback(v=>{var p;if(((p=v.target.files)==null?void 0:p.length)!==void 0){const y=v.target.files[0];n(!0);const L=new FormData;L.append("video",y),a("subirvideos",L)}},[a]),[r,n]=i.exports.useState(!1),[w,g]=i.exports.useState(!1);return l(C,{children:[o&&e(ue,{}),l(O,{open:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(j,{id:"alert-dialog-title",children:"Su video fue guardado correctamente"}),e(W,{children:e(H,{id:"alert-dialog-description",children:e("iframe",{width:"560",height:"315",src:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),e(me,{children:e(pe,{color:"error",variant:"contained",onClick:()=>{g(!1)},children:"OK"})})]}),l(O,{open:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(j,{id:"alert-dialog-title",children:"Cargando.."}),e(W,{children:e(H,{id:"alert-dialog-description",children:"Por favor no cierre hasta que termine de cargar..."})})]}),l("div",{className:"mb-3",children:[e("label",{htmlFor:"formFile",className:"form-label",children:"Imagen"}),e("input",{className:"form-control",id:"formFile",type:"file",name:"file",accept:"image/*,video/*",onChange:c})]}),e(he,{name:"url",id:"url",type:"hidden"}),e(fe,{name:"url",component:"span"})]})}var sa=i.exports.memo(ta);function oa({currentNosotros:s}){const a=M(),o=t=>{a.setFieldValue("id",t.id),a.setFieldValue("url",t.url),a.setFieldValue("name",t.name),a.setFieldValue("descripcion",t.descripcion),a.setFieldValue("estado",t.estado),a.setFieldValue("municipio",t.municipio),a.setFieldValue("phone",t.phone),a.setFieldValue("domicilio",t.domicilio),a.setFieldValue("face",t.face),a.setFieldValue("whatsapp",t.whatsapp),a.setFieldValue("correo",t.correo)};return i.exports.useEffect(()=>{o(s)},[s]),l(C,{children:[e(J,{title:"Nosotros",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})}),l("div",{className:"row rows-cols-1 row-cols-md-3 g-3 animate__animated animate__fadeIn notes__image",children:[l("div",{className:"col-md-6",children:[e(f,{label:"Nombre de empresa",name:"name",id:"name",type:"text",placeholder:"Nombre de empresa"}),e(sa,{}),e(f,{label:"Phone",name:"phone",id:"phone",type:"text",placeholder:"Phone"}),e(f,{label:"whatsapp",name:"whatsapp",id:"whatsapp",type:"text",placeholder:"whatsapp"})]})," ",s.url!=""?e(ge,{material:s,children:()=>e(be,{className:"custom-image",style:{boxShadow:"10px 10px 10px rgba(0,0,0,0.2)"}})},s.id):e(C,{children:"NoImage"})," "]}),e("div",{className:"col-12",children:e(f,{label:"Descripcion",name:"descripcion",id:"descripcion",type:"text",placeholder:"Descripcion"})}),e("div",{className:"col-12",children:e(f,{label:"Domicilio",name:"domicilio",id:"domicilio",type:"text",placeholder:"Domicilio"})}),e("div",{className:"col-md-6",children:e(f,{label:"Municipio",name:"municipio",id:"municipio",type:"text",placeholder:"Municipio"})}),e("div",{className:"col-md-6",children:e(f,{label:"Estado",name:"estado",id:"estado",type:"text",placeholder:"Estado"})}),e("div",{className:"col-md-12",children:e(f,{label:"face",name:"face",id:"face",type:"text",placeholder:"face"})}),e("div",{className:"col-md-12",children:e(f,{label:"correo",name:"correo",id:"correo",type:"text",placeholder:"correo"})})]})}var ia=i.exports.memo(oa);function ra(){const s=_(n=>n.reducer.auth.nosotros||[]),{put:a,isLoading:o,data:t}=d("nosotrosUpdate"),c=$();i.exports.useEffect(()=>{t!=null&&(c(Q({data:t})),q.fire({title:"Actualizado",text:"Datos actualizados con \xE9xito",icon:"success",confirmButtonText:"OK"}))},[c,t]);const r=n=>{a("empresa",n)};return e("div",{className:"submit-form",children:s?e("div",{children:e(X,{initialValues:{id:0,name:"",domicilio:"",url:"",estado:"",municipio:"",phone:"",descripcion:"",face:"",whatsapp:"",correo:""},onSubmit:n=>{r(n)},validationSchema:Y({name:h().required("Requerido"),url:h().required("Requerido"),domicilio:h().required("Requerido"),phone:h().required("Requerido"),municipio:h().required("Requerido"),estado:h().required("Requerido"),descripcion:h().required("Requerido"),whatsapp:h().required("Requerido"),face:h().required("Requerido"),correo:h().email("El correo no tiene un formato v\xE1lido").required("Requerido")}),children:n=>l(Z,{children:[e("div",{className:"row g-3",children:e(ia,{currentNosotros:s})}),e("div",{className:"col-12",children:e("button",{type:"submit",className:"float-end btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var na=i.exports.memo(ra);function la({currentUser:s}){const a=M(),o=t=>{a.setFieldValue("id",t.id),a.setFieldValue("name",t.name),a.setFieldValue("username",t.username),a.setFieldValue("password",t.password)};return i.exports.useEffect(()=>{o(s)},[s]),l(C,{children:[e("div",{className:"form-group mb-3 ",children:e(f,{label:"Nombre",name:"name",id:"name",type:"text",placeholder:"Nombre"})}),e("div",{className:"form-group mb-3",children:e(f,{label:"Usuario",name:"username",id:"username",type:"text",placeholder:"Usuario"})}),e("div",{className:"form-group mb-3",children:e(f,{label:"Password",name:"password",id:"password",type:"password",placeholder:"Password"})})]})}var da=i.exports.memo(la);ae.propTypes={id:ve.exports.number.isRequired};function ae({id:s}){const a={id:0,name:"",username:"",password:""},[o,t]=i.exports.useState(a),{get:c,data:r}=d("user");i.exports.useEffect(()=>{r!=null&&t({id:r.id||0,name:r.name||"",username:r.username||"",password:r.password||""})},[r]);const n=p=>{c(`user/${p}`)};i.exports.useEffect(()=>{n(s)},[s]);const{put:w,isLoading:g,data:b}=d("userUpdate");i.exports.useEffect(()=>{b!=null&&(q.fire({title:"Actualizado",text:"El Usuario fue actualizado con \xE9xito",icon:"success",confirmButtonText:"OK"}),c(`user/${s}`))},[s,c,b]);const v=p=>{w(`user/${o.id}`,p)};return e("div",{className:"submit-form",children:o?e("div",{children:e(X,{initialValues:{id:0,name:"",username:"",password:""},onSubmit:p=>{v(p)},validationSchema:Y({username:h().required("Requerido"),name:h().required("Requerido"),password:h().required("Requerido")}),children:p=>l(Z,{children:[e("div",{className:"modal-body",children:e(da,{currentUser:o})}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var ca=i.exports.memo(ae);function ua(){const s=[{field:"name",headerName:"Nombre",width:300},{field:"username",headerName:"Usuario",width:300},{field:"created_at",headerName:"Fecha de creacion",width:200,renderCell:u=>l("p",{children:[" ",K(`${u.row.created_at}`).subtract(10,"days").calendar()," "]})},{field:"updated_at",headerName:"Ultima actualizacion",width:200,renderCell:u=>l("p",{children:[" ",K(`${u.row.updated_at}`).subtract(10,"days").calendar()," "]})},{field:"Acciones",headerName:"Acciones",width:130,renderCell:u=>l(C,{children:[e("i",{style:{color:"green"},className:"fa-solid fa-pen-to-square",onClick:()=>L(u.row.id),onKeyPress:()=>L(u.row.id),role:"button",tabIndex:0}),e("i",{className:"fa-solid fa-trash-can",style:{color:"red"},onClick:()=>E(u.row.id),onKeyPress:()=>L(u.row.id),role:"button",tabIndex:0})]})}],a=$(),o=_(u=>u.reducer.auth.usuarios||[]),{get:t,isLoading:c,data:r}=d("usuariosList"),[n,w]=i.exports.useState(null),[g,b]=i.exports.useState(!1);i.exports.useEffect(()=>{r!=null&&a(ee({data:r}))},[r]);const v=()=>{t("user")},{get:p,data:y}=d("user"),L=u=>{p(`user/${u}`),b(!0)};i.exports.useEffect(()=>{y!=null&&w(y)},[y]);const F=()=>{v(),b(!1)},{delete:P,data:T}=d("userRemove");i.exports.useEffect(()=>{T!=null&&v()},[T]);const E=u=>{q.fire({title:"\xBF Est\xE1s seguro ?",text:"No podr\xE1s revertir los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xED, eliminarlo"}).then(V=>{V.isConfirmed&&(q.fire("\xA1Eliminado!","El usuario ha sido eliminado correctamente.","success"),P(`user/${u}`))})};return l(C,{children:[l(N,{size:"lg",show:g,onHide:()=>F(),"aria-labelledby":"example-modal-sizes-title-lg",children:[e(N.Header,{closeButton:!0,children:e(N.Title,{id:"example-modal-sizes-title-lg",children:"Editar Usuario"})}),e(N.Body,{children:e(ca,{id:n?n.id:0})})]}),l("div",{className:"card",children:[e("div",{className:"card-header",children:e(J,{title:"Usuarios",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})})}),e("div",{className:"card-body"}),e("div",{style:{height:800},children:e(xe,{rows:o,columns:s,pageSize:10,rowsPerPageOptions:[10]})})]})]})}var ma=i.exports.memo(ua);function va(){const{get:s,isLoading:a,data:o}=d("numeroversion"),{get:t,isLoading:c,data:r}=d("promociones"),{get:n,isLoading:w,data:g}=d("videos"),{get:b,isLoading:v,data:p}=d("usuarios"),{get:y,isLoading:L,data:F}=d("materialesList"),{get:P,isLoading:T,data:E}=d("nosotros"),{get:u,isLoading:V,data:U}=d("categoriasList"),{get:te,isLoading:pa,data:A}=d("blogsList"),{get:se,isLoading:ha,data:k}=d("productosbosqueList"),{get:oe,isLoading:fa,data:R}=d("bolsasList"),m=$(),B=_(D=>D.reducer.auth.version||[]);i.exports.useEffect(()=>{o!=null&&(console.log(B[0].UPDATE_TIME),console.log(o[0].UPDATE_TIME),B[0].UPDATE_TIME.toString()!==o[0].UPDATE_TIME.toString()&&(y("materiales"),u("categorias"),te("blogs"),oe("bolsas"),n("videos"),t("promociones"),P("empresa"),b("user"),se("productosbosques")))},[o]),i.exports.useEffect(()=>{s("numeroversion")},[s]),i.exports.useEffect(()=>{o!=null&&m(Ae({version:o}))},[m,o]),i.exports.useEffect(()=>{R!=null&&A!=null&&k!=null&&U!=null&&F!=null&&E!=null&&p!=null&&g!=null&&r!=null&&(m(ke({data:R})),m(ee({data:p})),m(Re({data:r})),m(Me({data:g})),m(Q({data:E})),m(_e({data:F})),m($e({data:U})),m(Ve({data:A})),m(Be({data:k})))},[A,k,m,U,F,E,p,g,r,R]);const{pathname:z,search:G}=ze();i.exports.useEffect(()=>{m(Ge({lastPath:z+G})),window.scrollTo(0,0)},[m,z,G]);const I=i.exports.useMemo(()=>ye(),[]);return i.exports.useEffect(()=>{I.then(D=>{m(Ie({value:D}))},D=>{})},[I,m]),e(He,{injectFirst:!0,children:l(Ye,{theme:Le,children:[e(aa,{}),l(we,{children:[e(Oe,{}),e("div",{className:"container py-5",children:e("div",{className:"row",children:l(je,{children:[e(x,{path:"nosotros",element:e(na,{})}),e(x,{path:"registrar",element:e(Ce,{})}),e(x,{path:"anuncios",element:e(Fe,{})}),e(x,{path:"bolsa",element:e(Ee,{})}),e(x,{path:"usuarios",element:e(ma,{})}),e(x,{path:"productos",element:e(De,{})}),e(x,{path:"materiales",element:e(Ne,{})}),e(x,{path:"categorias",element:e(qe,{})})]})})})]})]})})}export{va as DashboardRoutes,va as default};
