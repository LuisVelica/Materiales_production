import{Q as Z,R as J,U as ee,V as ae,W as te,X as se,Y as T,H as m,Z as oe,_,$ as M,a0 as z,a1 as G,a2 as ie,G as re,a3 as le,a4 as ne,a5 as O,a6 as h,M as de,a as ce,a7 as j,a8 as K,a9 as p,aa as H,ab as ue,ac as S,ad as me,ae as I,af as pe,ag as he,ah as ge,ai as fe,aj as be,ak as ve,al as xe,am as ye}from"./Nosotros.dc906d24.js";import{b as e,ar as Le,r,aK as we,_ as U,$ as Fe,U as Ce,j as n,F,a as W,i as $,n as Q,aF as D,k as X,s as Ne,l as qe,m as Se,o as De,p as Ue,t as Ee,v as Pe,aL as ke,x as Re,y}from"./index.7d64cfeb.js";const Te=J({key:"css",prepend:!0});function $e(s){const{injectFirst:a,children:o}=s;return a?e(Z,{value:Te,children:o}):o}function Ae(s,a){return typeof a=="function"?a(s):U({},s,a)}function Be(s){const{children:a,theme:o}=s,t=Le(),c=r.exports.useMemo(()=>{const i=t===null?o:Ae(t,o);return i!=null&&(i[ee]=t!==null),i},[o,t]);return e(we.Provider,{value:c,children:a})}function Ve(s){var a=Fe();return e(ae.Provider,{value:Ce(a)==="object"?a:{},children:s.children})}function _e(s){var a=s.children,o=s.theme;return e(Be,{theme:o,children:e(Ve,{children:a})})}var Me=function(a,o){return U({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&{colorScheme:a.palette.mode})},ze=function(a){return U({color:(a.vars||a).palette.text.primary},a.typography.body1,{backgroundColor:(a.vars||a).palette.background.default,"@media print":{backgroundColor:(a.vars||a).palette.common.white}})},Ge=function(a){var o,t,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i={html:Me(a,c),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:a.typography.fontWeightBold},body:U({margin:0},ze(a),{"&::backdrop":{backgroundColor:(a.vars||a).palette.background.default}})},l=(o=a.components)==null||(t=o.MuiCssBaseline)==null?void 0:t.styleOverrides;return l&&(i=[i,l]),i};function Ie(s){var a=te({props:s,name:"MuiCssBaseline"}),o=a.children,t=a.enableColorScheme,c=t===void 0?!1:t;return n(r.exports.Fragment,{children:[e(se,{styles:function(l){return Ge(l,c)}}),o]})}function Oe(){const s=T(),{file:a,isLoading:o,data:t}=m("file");r.exports.useEffect(()=>{t!=null&&(s.setFieldValue("url",t),l(!1),f(!0))},[t]);const c=r.exports.useCallback(x=>{var u;if(((u=x.target.files)==null?void 0:u.length)!==void 0){const v=x.target.files[0];l(!0),console.log(v);const L=new FormData;L.append("video",v),a("subirvideos",L)}},[a]),[i,l]=r.exports.useState(!1),[w,f]=r.exports.useState(!1);return n(F,{children:[o&&e(oe,{}),n(_,{open:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(M,{id:"alert-dialog-title",children:"Su video fue guardado correctamente"}),e(z,{children:e(G,{id:"alert-dialog-description",children:e("iframe",{width:"560",height:"315",src:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),e(ie,{children:e(re,{color:"error",variant:"contained",onClick:()=>{f(!1)},children:"OK"})})]}),n(_,{open:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(M,{id:"alert-dialog-title",children:"Cargando.."}),e(z,{children:e(G,{id:"alert-dialog-description",children:"Por favor no cierre hasta que termine de cargar..."})})]}),n("div",{className:"mb-3",children:[e("label",{htmlFor:"formFile",className:"form-label",children:"Imagen"}),e("input",{className:"form-control",id:"formFile",type:"file",name:"file",accept:"image/*,video/*",onChange:c})]}),e(le,{name:"url",id:"url",type:"hidden"}),e(ne,{name:"url",component:"span"})]})}var je=r.exports.memo(Oe);function Ke({currentNosotros:s}){const a=T(),o=t=>{a.setFieldValue("id",t.id),a.setFieldValue("url",t.url),a.setFieldValue("name",t.name),a.setFieldValue("descripcion",t.descripcion),a.setFieldValue("estado",t.estado),a.setFieldValue("municipio",t.municipio),a.setFieldValue("phone",t.phone),a.setFieldValue("domicilio",t.domicilio),a.setFieldValue("face",t.face),a.setFieldValue("whatsapp",t.whatsapp),a.setFieldValue("correo",t.correo)};return r.exports.useEffect(()=>{o(s)},[s]),n(F,{children:[e(O,{title:"Nosotros",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})}),n("div",{className:"row rows-cols-1 row-cols-md-3 g-3 animate__animated animate__fadeIn notes__image",children:[n("div",{className:"col-md-6",children:[e(h,{label:"Nombre de empresa",name:"name",id:"name",type:"text",placeholder:"Nombre de empresa"}),e(je,{}),e(h,{label:"Phone",name:"phone",id:"phone",type:"text",placeholder:"Phone"}),e(h,{label:"whatsapp",name:"whatsapp",id:"whatsapp",type:"text",placeholder:"whatsapp"})]})," ",s.url!=""?e(de,{material:s,children:()=>e(ce,{className:"custom-image",style:{boxShadow:"10px 10px 10px rgba(0,0,0,0.2)"}})},s.id):e(F,{children:"NoImage"})," "]}),e("div",{className:"col-12",children:e(h,{label:"Descripcion",name:"descripcion",id:"descripcion",type:"text",placeholder:"Descripcion"})}),e("div",{className:"col-12",children:e(h,{label:"Domicilio",name:"domicilio",id:"domicilio",type:"text",placeholder:"Domicilio"})}),e("div",{className:"col-md-6",children:e(h,{label:"Municipio",name:"municipio",id:"municipio",type:"text",placeholder:"Municipio"})}),e("div",{className:"col-md-6",children:e(h,{label:"Estado",name:"estado",id:"estado",type:"text",placeholder:"Estado"})}),e("div",{className:"col-md-12",children:e(h,{label:"face",name:"face",id:"face",type:"text",placeholder:"face"})}),e("div",{className:"col-md-12",children:e(h,{label:"correo",name:"correo",id:"correo",type:"text",placeholder:"correo"})})]})}var He=r.exports.memo(Ke);function We(){const s=W(l=>l.reducer.auth.nosotros||[]),{put:a,isLoading:o,data:t}=m("nosotrosUpdate"),c=$();r.exports.useEffect(()=>{t!=null&&(c(Q({data:t})),D.fire({title:"Actualizado",text:"Datos actualizados con \xE9xito",icon:"success",confirmButtonText:"OK"}))},[c,t]);const i=l=>{console.log(l),a("empresa",l)};return e("div",{className:"submit-form",children:s?e("div",{children:e(j,{initialValues:{id:0,name:"",domicilio:"",url:"",estado:"",municipio:"",phone:"",descripcion:"",face:"",whatsapp:"",correo:""},onSubmit:l=>{console.log(l),i(l)},validationSchema:K({name:p().required("Requerido"),url:p().required("Requerido"),domicilio:p().required("Requerido"),phone:p().required("Requerido"),municipio:p().required("Requerido"),estado:p().required("Requerido"),descripcion:p().required("Requerido"),whatsapp:p().required("Requerido"),face:p().required("Requerido"),correo:p().email("El correo no tiene un formato v\xE1lido").required("Requerido")}),children:l=>n(H,{children:[e("div",{className:"row g-3",children:e(He,{currentNosotros:s})}),e("div",{className:"col-12",children:e("button",{type:"submit",className:"float-end btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var Qe=r.exports.memo(We);function Xe({currentUser:s}){const a=T(),o=t=>{a.setFieldValue("id",t.id),a.setFieldValue("name",t.name),a.setFieldValue("username",t.username),a.setFieldValue("password",t.password)};return r.exports.useEffect(()=>{o(s)},[s]),n(F,{children:[e("div",{className:"form-group mb-3 ",children:e(h,{label:"Nombre",name:"name",id:"name",type:"text",placeholder:"Nombre"})}),e("div",{className:"form-group mb-3",children:e(h,{label:"Usuario",name:"username",id:"username",type:"text",placeholder:"Usuario"})}),e("div",{className:"form-group mb-3",children:e(h,{label:"Password",name:"password",id:"password",type:"password",placeholder:"Password"})})]})}var Ye=r.exports.memo(Xe);Y.propTypes={id:ue.exports.number.isRequired};function Y({id:s}){const a={id:0,name:"",username:"",password:""},[o,t]=r.exports.useState(a),{get:c,data:i}=m("user");r.exports.useEffect(()=>{i!=null&&t({id:i.id||0,name:i.name||"",username:i.username||"",password:i.password||""})},[i]);const l=u=>{c(`user/${u}`)};r.exports.useEffect(()=>{l(s)},[s]);const{put:w,isLoading:f,data:b}=m("userUpdate");r.exports.useEffect(()=>{b!=null&&(D.fire({title:"Actualizado",text:"El Usuario fue actualizado con \xE9xito",icon:"success",confirmButtonText:"OK"}),c(`user/${s}`))},[s,c,b]);const x=u=>{w(`user/${o.id}`,u)};return e("div",{className:"submit-form",children:o?e("div",{children:e(j,{initialValues:{id:0,name:"",username:"",password:""},onSubmit:u=>{console.log(u),x(u)},validationSchema:K({username:p().required("Requerido"),name:p().required("Requerido"),password:p().required("Requerido")}),children:u=>n(H,{children:[e("div",{className:"modal-body",children:e(Ye,{currentUser:o})}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var Ze=r.exports.memo(Y);function Je(){const s=[{field:"name",headerName:"Nombre",width:300},{field:"username",headerName:"Usuario",width:300},{field:"created_at",headerName:"Fecha de creacion",width:200,renderCell:d=>n("p",{children:[" ",I(`${d.row.created_at}`).subtract(10,"days").calendar()," "]})},{field:"updated_at",headerName:"Ultima actualizacion",width:200,renderCell:d=>n("p",{children:[" ",I(`${d.row.updated_at}`).subtract(10,"days").calendar()," "]})},{field:"Acciones",headerName:"Acciones",width:130,renderCell:d=>n(F,{children:[e("i",{style:{color:"green"},className:"fa-solid fa-pen-to-square",onClick:()=>L(d.row.id),onKeyPress:()=>L(d.row.id),role:"button",tabIndex:0}),e("i",{className:"fa-solid fa-trash-can",style:{color:"red"},onClick:()=>N(d.row.id),onKeyPress:()=>L(d.row.id),role:"button",tabIndex:0})]})}],a=$(),o=W(d=>d.reducer.auth.usuarios||[]),{get:t,isLoading:c,data:i}=m("usuariosList"),[l,w]=r.exports.useState(null),[f,b]=r.exports.useState(!1);r.exports.useEffect(()=>{i!=null&&a(X({data:i}))},[i]);const x=()=>{t("user")},{get:u,data:v}=m("user"),L=d=>{u(`user/${d}`),b(!0)};r.exports.useEffect(()=>{v!=null&&w(v)},[v]);const C=()=>{x(),b(!1)},{delete:q,data:E}=m("userRemove");r.exports.useEffect(()=>{E!=null&&x()},[E]);const N=d=>{D.fire({title:"\xBF Est\xE1s seguro ?",text:"No podr\xE1s revertir los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xED, eliminarlo"}).then(A=>{A.isConfirmed&&(D.fire("\xA1Eliminado!","El usuario ha sido eliminado correctamente.","success"),q(`user/${d}`))})};return n(F,{children:[n(S,{size:"lg",show:f,onHide:()=>C(),"aria-labelledby":"example-modal-sizes-title-lg",children:[e(S.Header,{closeButton:!0,children:e(S.Title,{id:"example-modal-sizes-title-lg",children:"Editar Usuario"})}),e(S.Body,{children:e(Ze,{id:l?l.id:0})})]}),n("div",{className:"card",children:[e("div",{className:"card-header",children:e(O,{title:"Usuarios",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})})}),e("div",{className:"card-body"}),e("div",{style:{height:800},children:e(me,{rows:o,columns:s,pageSize:10,rowsPerPageOptions:[10]})})]})]})}var ea=r.exports.memo(Je);function ia(){const{get:s,isLoading:a,data:o}=m("promociones"),{get:t,isLoading:c,data:i}=m("videos"),{get:l,isLoading:w,data:f}=m("usuarios"),{get:b,isLoading:x,data:u}=m("materialesList"),{get:v,isLoading:L,data:C}=m("nosotros"),{get:q,isLoading:E,data:N}=m("categoriasList"),{get:d,isLoading:A,data:P}=m("blogsList"),{get:B,isLoading:aa,data:k}=m("productosbosqueList"),{get:V,isLoading:ta,data:R}=m("bolsasList"),g=$();return r.exports.useEffect(()=>{b("materiales"),q("categorias"),d("blogs"),V("bolsas"),t("videos"),s("promociones"),v("empresa"),l("user"),B("productosbosques")},[d,V,q,b,v,B,s,l,t]),r.exports.useEffect(()=>{R!=null&&P!=null&&k!=null&&N!=null&&u!=null&&C!=null&&f!=null&&i!=null&&o!=null&&(g(Ne({data:R})),g(X({data:f})),g(qe({data:o})),g(Se({data:i})),g(Q({data:C})),g(De({data:u})),g(Ue({data:N})),g(Ee({data:P})),g(Pe({data:k})))},[P,k,g,N,u,C,f,i,o,R]),e($e,{injectFirst:!0,children:n(_e,{theme:pe,children:[e(Ie,{}),n(he,{children:[e(ke,{}),e("div",{className:"container py-5",children:e("div",{className:"row",children:n(Re,{children:[e(y,{path:"nosotros",element:e(Qe,{})}),e(y,{path:"registrar",element:e(ge,{})}),e(y,{path:"anuncios",element:e(fe,{})}),e(y,{path:"bolsa",element:e(be,{})}),e(y,{path:"usuarios",element:e(ea,{})}),e(y,{path:"productos",element:e(ve,{})}),e(y,{path:"materiales",element:e(xe,{})}),e(y,{path:"categorias",element:e(ye,{})})]})})})]})]})})}export{ia as DashboardRoutes,ia as default};
