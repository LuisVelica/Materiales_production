import{Q as R,R as A,U as B,V as z,W as _,X as $,Y as F,Z as M,_ as O,$ as I,a0 as S,a1 as h,G as D,H as L,u as q,a2 as U,a3 as P,a4 as u,a5 as k,a6 as j,a7 as y,a8 as H,a9 as C,aa as W,ab as K,ac as G,ad as Q,ae as X,af as Y,ag as Z,ah as J}from"./Nosotros.503dc1af.js";import{j as e,ac as ee,r as c,ay as ae,_ as x,E as re,y as ie,a as l,F as g,aa as f,az as oe,aA as v,aB as te,f as le,h as p}from"./index.5b63f161.js";const ne=A({key:"css",prepend:!0});function se(i){const{injectFirst:a,children:o}=i;return a?e(R,{value:ne,children:o}):o}function de(i,a){return typeof a=="function"?a(i):x({},i,a)}function ce(i){const{children:a,theme:o}=i,r=ee(),t=c.exports.useMemo(()=>{const n=r===null?o:de(r,o);return n!=null&&(n[B]=r!==null),n},[o,r]);return e(ae.Provider,{value:t,children:a})}function me(i){var a=re();return e(z.Provider,{value:ie(a)==="object"?a:{},children:i.children})}function ue(i){var a=i.children,o=i.theme;return e(ce,{theme:o,children:e(me,{children:a})})}var he=function(a,o){return x({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},o&&{colorScheme:a.palette.mode})},pe=function(a){return x({color:(a.vars||a).palette.text.primary},a.typography.body1,{backgroundColor:(a.vars||a).palette.background.default,"@media print":{backgroundColor:(a.vars||a).palette.common.white}})},fe=function(a){var o,r,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n={html:he(a,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:a.typography.fontWeightBold},body:x({margin:0},pe(a),{"&::backdrop":{backgroundColor:(a.vars||a).palette.background.default}})},d=(o=a.components)==null||(r=o.MuiCssBaseline)==null?void 0:r.styleOverrides;return d&&(n=[n,d]),n};function ge(i){var a=_({props:i,name:"MuiCssBaseline"}),o=a.children,r=a.enableColorScheme,t=r===void 0?!1:r;return l(c.exports.Fragment,{children:[e($,{styles:function(d){return fe(d,t)}}),o]})}function be(){const i=F();return l(g,{children:[l("div",{className:"mb-3",children:[e("label",{htmlFor:"formFile",className:"form-label",children:"Imagen"}),e("input",{className:"form-control",id:"formFile",type:"file",name:"file",accept:"video/*",onChange:o=>{var r;if(((r=o.target.files)==null?void 0:r.length)!==void 0){const t=o.target.files[0];t&&(f.fire({title:"Cargando..",text:"Por favor no cierre hasta que termine de cargar...",allowOutsideClick:!1}),console.log(t),I(t).then(n=>{i.setFieldValue("url",n),f.close(),f.fire({title:":D",allowOutsideClick:!1,text:"Su video fue guardado correctamente",html:`<iframe width="560" height="315" src="${n}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,imageWidth:400,imageHeight:200,imageAlt:"Custom image"})},n=>{console.log(n)}))}}})]}),e(M,{name:"url",id:"url",type:"hidden"}),e(O,{name:"url",component:"span"})]})}var ve=c.exports.memo(be);function ye({currentNosotros:i}){const a=F(),o=r=>{a.setFieldValue("id",r.id),a.setFieldValue("url",r.url),a.setFieldValue("name",r.name),a.setFieldValue("descripcion",r.descripcion),a.setFieldValue("estado",r.estado),a.setFieldValue("municipio",r.municipio),a.setFieldValue("phone",r.phone),a.setFieldValue("domicilio",r.domicilio),a.setFieldValue("face",r.face),a.setFieldValue("whatsapp",r.whatsapp),a.setFieldValue("correo",r.correo)};return c.exports.useEffect(()=>{o(i)},[i]),l(g,{children:[e(S,{title:"Nosotros",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})}),l("div",{className:"row rows-cols-1 row-cols-md-3 g-3 animate__animated animate__fadeIn notes__image",children:[l("div",{className:"col-md-6",children:[e(h,{label:"Nombre de empresa",name:"name",id:"name",type:"text",placeholder:"Nombre de empresa"}),e(ve,{}),e(h,{label:"Phone",name:"phone",id:"phone",type:"text",placeholder:"Phone"}),e(h,{label:"whatsapp",name:"whatsapp",id:"whatsapp",type:"text",placeholder:"whatsapp"})]})," ",i.url!=""?e(D,{material:i,children:()=>e(L,{className:"custom-image",style:{boxShadow:"10px 10px 10px rgba(0,0,0,0.2)"}})},i.id):e(g,{children:"NoImage"})," "]}),e("div",{className:"col-12",children:e(h,{label:"Descripcion",name:"descripcion",id:"descripcion",type:"text",placeholder:"Descripcion"})}),e("div",{className:"col-12",children:e(h,{label:"Domicilio",name:"domicilio",id:"domicilio",type:"text",placeholder:"Domicilio"})}),e("div",{className:"col-md-6",children:e(h,{label:"Municipio",name:"municipio",id:"municipio",type:"text",placeholder:"Municipio"})}),e("div",{className:"col-md-6",children:e(h,{label:"Estado",name:"estado",id:"estado",type:"text",placeholder:"Estado"})}),e("div",{className:"col-md-12",children:e(h,{label:"face",name:"face",id:"face",type:"text",placeholder:"face"})}),e("div",{className:"col-md-12",children:e(h,{label:"correo",name:"correo",id:"correo",type:"text",placeholder:"correo"})})]})}var xe=c.exports.memo(ye);function we(){const{currentNosotros:i,setCurrentNosotros:a}=q(),o=r=>{console.log(r),oe.update(r).then(t=>{a({id:t.data.name||0,name:t.data.name||"",descripcion:t.data.descripcion||"",url:t.data.url||"",domicilio:t.data.domicilio||"",estado:t.data.estado||"",municipio:t.data.municipio||"",phone:t.data.phone||"",whatsapp:t.data.whatsapp||"",face:t.data.face||"",correo:t.data.correo||""}),f.fire({title:"Actualizado",text:"Datos actualizados con \xE9xito",icon:"success",confirmButtonText:"OK"})}).catch(t=>{alert("Ocurrio un error actualizando"),console.log(t)})};return e("div",{className:"submit-form",children:i?e("div",{children:e(U,{initialValues:{id:0,name:"",domicilio:"",url:"",estado:"",municipio:"",phone:"",descripcion:"",face:"",whatsapp:"",correo:""},onSubmit:r=>{console.log(r),o(r)},validationSchema:P({name:u().required("Requerido"),url:u().required("Requerido"),domicilio:u().required("Requerido"),phone:u().required("Requerido"),municipio:u().required("Requerido"),estado:u().required("Requerido"),descripcion:u().required("Requerido"),whatsapp:u().required("Requerido"),face:u().required("Requerido"),correo:u().email("El correo no tiene un formato v\xE1lido").required("Requerido")}),children:r=>l(k,{children:[e("div",{className:"row g-3",children:e(xe,{currentNosotros:i})}),e("div",{className:"col-12",children:e("button",{type:"submit",className:"float-end btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var Fe=c.exports.memo(we);function Ne({currentUser:i}){const a=F(),o=r=>{a.setFieldValue("id",r.id),a.setFieldValue("name",r.name),a.setFieldValue("username",r.username),a.setFieldValue("password",r.password)};return c.exports.useEffect(()=>{o(i)},[i]),l(g,{children:[e("div",{className:"form-group mb-3 ",children:e(h,{label:"Nombre",name:"name",id:"name",type:"text",placeholder:"Nombre"})}),e("div",{className:"form-group mb-3",children:e(h,{label:"Usuario",name:"username",id:"username",type:"text",placeholder:"Usuario"})}),e("div",{className:"form-group mb-3",children:e(h,{label:"Password",name:"password",id:"password",type:"password",placeholder:"Password"})})]})}var Ce=c.exports.memo(Ne);T.propTypes={id:j.exports.number.isRequired};function T({id:i}){const a={id:0,name:"",username:"",password:""},[o,r]=c.exports.useState(a),t=d=>{v.getById(d).then(m=>{r({id:m.data.id||0,name:m.data.name||"",username:m.data.username||"",password:m.data.password||""})}).catch(m=>{alert("Ocurrio un error"),console.log(m)})};c.exports.useEffect(()=>{t(i)},[i]);const n=d=>{v.update(o.id,d).then(m=>{f.fire({title:"Actualizado",text:"El Usuario fue actualizado con \xE9xito",icon:"success",confirmButtonText:"OK"}),console.log(m.data)}).catch(m=>{alert("Ocurrio un error actualizando el Usuario"),console.log(m)})};return e("div",{className:"submit-form",children:o?e("div",{children:e(U,{initialValues:{id:0,name:"",username:"",password:""},onSubmit:d=>{console.log(d),n(d)},validationSchema:P({username:u().required("Requerido"),name:u().required("Requerido"),password:u().required("Requerido")}),children:d=>l(k,{children:[e("div",{className:"modal-body",children:e(Ce,{currentUser:o})}),e("div",{className:"modal-footer",children:e("button",{type:"submit",className:"btn btn-primary",children:"Actualizar"})})]})})}):e("div",{children:e("h4",{children:"Por favor selecciona un registro"})})})}var Se=c.exports.memo(T);function qe(){const i=[{field:"name",headerName:"Nombre",width:300},{field:"username",headerName:"Usuario",width:300},{field:"created_at",headerName:"Fecha de creacion",width:200,renderCell:s=>l("p",{children:[" ",C(`${s.row.created_at}`).subtract(10,"days").calendar()," "]})},{field:"updated_at",headerName:"Ultima actualizacion",width:200,renderCell:s=>l("p",{children:[" ",C(`${s.row.updated_at}`).subtract(10,"days").calendar()," "]})},{field:"Acciones",headerName:"Acciones",width:130,renderCell:s=>l(g,{children:[e("i",{style:{color:"green"},className:"fa-solid fa-pen-to-square",onClick:()=>w(s.row.id),onKeyPress:()=>w(s.row.id),role:"button",tabIndex:0}),e("i",{className:"fa-solid fa-trash-can",style:{color:"red"},onClick:()=>E(s.row.id),onKeyPress:()=>w(s.row.id),role:"button",tabIndex:0})]})}],{user:a,setUser:o}=q(),[r,t]=c.exports.useState(null),[n,d]=c.exports.useState(!1),m=()=>{v.getAll().then(s=>{o(s.data),console.log(s.data)}).catch(s=>{alert("Ocurrio un error"),console.log(s)})},w=s=>{v.getById(s).then(b=>{t(b.data)}).catch(b=>{alert("Ocurrio un error"),console.log(b)}),d(!0)},V=()=>{m(),d(!1)},E=s=>{f.fire({title:"\xBF Est\xE1s seguro ?",text:"No podr\xE1s revertir los cambios",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",confirmButtonText:"S\xED, eliminarlo"}).then(b=>{b.isConfirmed&&(f.fire("\xA1Eliminado!","El usuario ha sido eliminado correctamente.","success"),v.remove(s).then(N=>{m()}).catch(N=>{alert("Ocurrio un error al tratar de eliminar el Usuario"),console.log(N)}))})};return l(g,{children:[l(y,{size:"lg",show:n,onHide:()=>V(),"aria-labelledby":"example-modal-sizes-title-lg",children:[e(y.Header,{closeButton:!0,children:e(y.Title,{id:"example-modal-sizes-title-lg",children:"Editar Usuario"})}),e(y.Body,{children:e(Se,{id:r?r.id:0})})]}),l("div",{className:"card",children:[e("div",{className:"card-header",children:e(S,{title:"Usuarios",main:!0,children:e("button",{className:"btn btn-primary",type:"button",children:"Agregar nuevo usuario"})})}),e("div",{className:"card-body"}),e("div",{style:{height:800},children:e(H,{rows:a,columns:i,pageSize:10,rowsPerPageOptions:[10]})})]})]})}var Ue=c.exports.memo(qe);function Te(){return e(se,{injectFirst:!0,children:l(ue,{theme:W,children:[e(ge,{}),l(K,{children:[e(te,{}),e("div",{className:"container py-5",children:e("div",{className:"row",children:l(le,{children:[e(p,{path:"nosotros",element:e(Fe,{})}),e(p,{path:"registrar",element:e(G,{})}),e(p,{path:"anuncios",element:e(Q,{})}),e(p,{path:"bolsa",element:e(X,{})}),e(p,{path:"usuarios",element:e(Ue,{})}),e(p,{path:"videos",element:e(Y,{})}),e(p,{path:"materiales",element:e(Z,{})}),e(p,{path:"categorias",element:e(J,{})})]})})})]})]})})}export{Te as DashboardRoutes,Te as default};
